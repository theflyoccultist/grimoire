<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Debugging Grimoire</title>
        <meta name="robots" content="noindex">


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="toc.js"></script>
    </head>
    <body>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Debugging Grimoire</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h2 id="-debugging-grimoire-the-tome-of-cursed-knowledge"><a class="header" href="#-debugging-grimoire-the-tome-of-cursed-knowledge">üïØÔ∏è Debugging Grimoire: The Tome of Cursed Knowledge</a></h2>
<p>This is my personal collection of <strong>hard-earned debugging wisdom</strong>, gathered from countless nights battling <strong>rogue services, broken deployments, and cursed error messages.</strong> The goal is simple: <strong>never struggle with the same problem twice.</strong></p>
<p>Rather than leaving my notes scattered across <strong>random bookmarks, Discord servers, and Google Docs</strong>, this grimoire serves as a <strong>single source of truth</strong> for all things <strong>database, Linux, and DevOps.</strong> More sections might be added over time‚Äîespecially for <strong>programming languages and specific frameworks.</strong></p>
<p>If you're reading this, you're either <strong>past-me, future-me, or an unfortunate soul who has stumbled upon my secret knowledge.</strong> Either way, remember:</p>
<ul>
<li>
<p>üõ†Ô∏è Debugging is an art, not a science.</p>
</li>
<li>
<p>üíÄ Nothing works until it does.</p>
</li>
<li>
<p>‚úÖ The green checkmark is the ultimate goal.</p>
</li>
</ul>
<p>Welcome to the <strong>Grimoire of Debugging Madness.</strong> May it save me (and possibly others) from unnecessary suffering.</p>
<div style="break-before: page; page-break-before: always;"></div><div style="break-before: page; page-break-before: always;"></div><h1 id="setting-up-ssh-for-github"><a class="header" href="#setting-up-ssh-for-github">Setting Up SSH for GitHub</a></h1>
<p>This will make GitHub stop asking you for your username and access token every time.</p>
<h2 id="step-1-check-if-you-already-have-a-key"><a class="header" href="#step-1-check-if-you-already-have-a-key">Step 1: Check if you already have a key</a></h2>
<ul>
<li>Before generating a new one, check if you already have an SSH key:</li>
</ul>
<pre><code class="language-sh">ls -al ~/.ssh
</code></pre>
<p>If you see files like <code>id_rsa</code> and <code>id_rsa.pub</code> (or <code>id_ed25519</code> and <code>id_ed25519.pub</code>), you probably already have an SSH key. If not, generate one.</p>
<h2 id="step-2-generate-a-new-ssh-key-if-needed"><a class="header" href="#step-2-generate-a-new-ssh-key-if-needed">Step 2: Generate a New SSH key (if needed)</a></h2>
<p>If you don't have an existing SSH key, generate a new one:</p>
<pre><code class="language-sh">ssh-keygen -t ed25519 -C "yourmail@example.com"
</code></pre>
<ul>
<li>When it asks for a file location, just press Enter (this will save it in <code>~/.ssh/id_ed25519</code>).</li>
<li>When it asks for a passphrase, you can leave it empty (or set one for extra security).</li>
</ul>
<h2 id="step-3-add-your-ssh-key-to-the-ssh-agent"><a class="header" href="#step-3-add-your-ssh-key-to-the-ssh-agent">Step 3: Add Your SSH Key to the SSH Agent</a></h2>
<ul>
<li>Now, you need to add the key to your local SSH agent so it gets used automatically:</li>
</ul>
<pre><code class="language-sh">eval "$(ssh-agent -s)"
</code></pre>
<ul>
<li>Then add your key:</li>
</ul>
<pre><code class="language-sh">ssh-add ~/.ssh/id_ed25519
</code></pre>
<p>(If you used <code>rsa</code>, replace <code>id_ed25519</code> with <code>id_rsa</code>.)</p>
<h2 id="step-4-copy-your-ssh-key-to-github"><a class="header" href="#step-4-copy-your-ssh-key-to-github">Step 4: Copy Your SSH Key to GitHub</a></h2>
<p>Now, you need to add your SSH key to your GitHub account.</p>
<ul>
<li>Copy the key to your clipboard:</li>
</ul>
<pre><code class="language-sh">cat ~/.ssh/id_ed25519.pub
</code></pre>
<p>It will output something like:</p>
<pre><code class="language-sh">ssh-ed25519 AAAAC3Nza...yourlongpublickeyhere yourmail@example.com
</code></pre>
<ul>
<li>Go to GitHub ‚Üí SSH Keys Settings</li>
<li>Click "New SSH Key", paste your key, and give it a name.</li>
<li>Save it.</li>
</ul>
<h2 id="step-5-test-the-connection"><a class="header" href="#step-5-test-the-connection">Step 5: Test the Connection</a></h2>
<ul>
<li>Check if GitHub recognizes your SSH key:</li>
</ul>
<pre><code class="language-sh">ssh -T git@github.com
</code></pre>
<p>If everything is set up correctly, you should see:</p>
<pre><code class="language-sh">Hi &lt;your-github-username&gt;! You've successfully authenticated, but GitHub does not provide shell access.
</code></pre>
<h2 id="step-6-change-your-git-remote-to-use-ssh"><a class="header" href="#step-6-change-your-git-remote-to-use-ssh">Step 6: Change Your Git Remote to Use SSH</a></h2>
<ul>
<li>If your Git remote is still using HTTPS (which asks for a password), switch it to SSH:</li>
</ul>
<pre><code class="language-sh">git remote -v
</code></pre>
<p>If you see:</p>
<pre><code class="language-sh">origin https://github.com/your-username/repository.git (fetch)
origin https://github.com/your-username/repository.git (push)
</code></pre>
<ul>
<li>Change it to SSH:</li>
</ul>
<pre><code class="language-sh">git remote set-url origin git@github.com:your-username/repository.git
</code></pre>
<p>Now, every push/pull will use SSH, and you‚Äôll never have to enter your password again.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="the-skinny-ruby-queen-minimal-dockerfile-for-production"><a class="header" href="#the-skinny-ruby-queen-minimal-dockerfile-for-production">The Skinny Ruby Queen: Minimal Dockerfile for Production</a></h1>
<p>---- Build Stage ----</p>
<h1 id="were-building-in-style-baby-ruby--alpine--skinny-legend"><a class="header" href="#were-building-in-style-baby-ruby--alpine--skinny-legend">We're building in style, baby. Ruby + Alpine = skinny legend</a></h1>
<pre><code class="language-Dockerfile">FROM ruby:3.3-alpine AS build
</code></pre>
<h1 id="install-a-full-dev-toolchain-to-compile-native-gems-yes-ruby-still-lives-in-c-land"><a class="header" href="#install-a-full-dev-toolchain-to-compile-native-gems-yes-ruby-still-lives-in-c-land">Install a full dev toolchain to compile native gems (yes, Ruby still lives in C land)</a></h1>
<pre><code class="language-Dockerfile">RUN apk add --no-cache build-base
</code></pre>
<h1 id="set-the-working-directoryaka-the-sacred-ground-where-it-all-happens"><a class="header" href="#set-the-working-directoryaka-the-sacred-ground-where-it-all-happens">Set the working directory‚Äîaka the sacred ground where it all happens</a></h1>
<pre><code class="language-Dockerfile">WORKDIR /usr/src/app
</code></pre>
<h1 id="copy-only-gemfile-and-lockfile-first-layer-caching-magic"><a class="header" href="#copy-only-gemfile-and-lockfile-first-layer-caching-magic">Copy only Gemfile and lockfile first (layer caching magic)</a></h1>
<pre><code class="language-Dockerfile">COPY Gemfile Gemfile.lock ./
</code></pre>
<h1 id="configure-bundler-to-install-gems-locally-under-vendorbundle"><a class="header" href="#configure-bundler-to-install-gems-locally-under-vendorbundle">Configure bundler to install gems locally under vendor/bundle</a></h1>
<h1 id="this-will-be-copied-over-to-the-final-image-later-like-a-blessed-artifact"><a class="header" href="#this-will-be-copied-over-to-the-final-image-later-like-a-blessed-artifact">This will be copied over to the final image later like a blessed artifact</a></h1>
<pre><code class="language-Dockerfile">RUN bundle config set --local path 'vendor/bundle' \
  &amp;&amp; bundle install
</code></pre>
<h1 id="copy-the-rest-of-your-applicationcode-chaos-and-all"><a class="header" href="#copy-the-rest-of-your-applicationcode-chaos-and-all">Copy the rest of your application‚Äîcode, chaos, and all</a></h1>
<pre><code class="language-Dockerfile">COPY . .
</code></pre>
<h1 id="-----final-stage-----"><a class="header" href="#-----final-stage-----">---- Final Stage ----</a></h1>
<h1 id="a-clean-alpine-base-with-ruby-and-none-of-that-build-baggage-we-like-our-containers-light"><a class="header" href="#a-clean-alpine-base-with-ruby-and-none-of-that-build-baggage-we-like-our-containers-light">A clean Alpine base with Ruby and none of that build baggage. We like our containers <em>light.</em></a></h1>
<pre><code class="language-Dockerfile">FROM ruby:3.3-alpine
</code></pre>
<h1 id="set-the-working-dir-again-yes-you-need-to-re-declare-itdocker-has-no-memory-of-its-past-life"><a class="header" href="#set-the-working-dir-again-yes-you-need-to-re-declare-itdocker-has-no-memory-of-its-past-life">Set the working dir again (yes, you need to re-declare it‚ÄîDocker has no memory of its past life)</a></h1>
<pre><code class="language-Dockerfile">WORKDIR /usr/src/app
</code></pre>
<h1 id="copy-everything-from-the-build-stage-including-those-precious-compiled-gems"><a class="header" href="#copy-everything-from-the-build-stage-including-those-precious-compiled-gems">Copy everything from the build stage, including those precious compiled gems</a></h1>
<pre><code class="language-Dockerfile">COPY --from=build /usr/src/app /usr/src/app
</code></pre>
<h1 id="let-ruby-know-where-the-gems-arebecause-it-forgets-if-you-dont-tell-it"><a class="header" href="#let-ruby-know-where-the-gems-arebecause-it-forgets-if-you-dont-tell-it">Let Ruby know where the gems are‚Äîbecause it forgets if you don‚Äôt tell it</a></h1>
<pre><code class="language-Dockerfile">ENV GEM_PATH=/usr/src/app/vendor/bundle/ruby/3.3.0
ENV PATH=$GEM_PATH/bin:$PATH
</code></pre>
<h1 id="install-only-the-runtime-dependencies-needed-for-your-app-to-vibe"><a class="header" href="#install-only-the-runtime-dependencies-needed-for-your-app-to-vibe">Install only the runtime dependencies needed for your app to vibe</a></h1>
<pre><code class="language-Dockerfile">RUN apk add --no-cache \
        libstdc++ \       # C++ runtime
        libffi \          # Needed by some gems (e.g., FFI, psych)
        yaml \            # YAML parsing
        zlib \            # Compression stuff
        openssl \         # HTTPS, TLS, etc.
        tzdata            # So your logs don‚Äôt think it's 1970
</code></pre>
<h1 id="declare-yourself-prod-mode-on"><a class="header" href="#declare-yourself-prod-mode-on">Declare yourself: prod mode on</a></h1>
<pre><code class="language-Dockerfile">ENV RACK_ENV=production
ENV PORT=8080
EXPOSE 8080
</code></pre>
<h1 id="finally-launch-the-ruby-app-like-the-main-character-it-is"><a class="header" href="#finally-launch-the-ruby-app-like-the-main-character-it-is">Finally, launch the Ruby app like the main character it is</a></h1>
<pre><code class="language-Dockerfile">CMD ["ruby", "server.rb"]
</code></pre>
<p>Some useful commands:</p>
<pre><code class="language-bash">docker build -t your-image-name .

docker images

docker run -p 8080:8080 your-image-id

docker rmi your-image-id

docker container prune
</code></pre>
<p>Pro Tips from the Underworld:
If you're using gems that compile C extensions (like pg, nokogiri, ffi), you‚Äôll likely need additional Alpine dependencies, e.g.:</p>
<pre><code class="language-Dockerfile">RUN apk add --no-cache build-base libxml2-dev libxslt-dev postgresql-dev
</code></pre>
<p>For scripts that are long-running, consider using:</p>
<pre><code class="language-Dockerfile">CMD ["ruby", "start.rb"]
</code></pre>
<p>Or even:</p>
<pre><code class="language-Dockerfile">ENTRYPOINT ["bundle", "exec"]
CMD ["ruby", "start.rb"]
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="deploying-mdbook-to-github-pages-with-github-actions"><a class="header" href="#deploying-mdbook-to-github-pages-with-github-actions">Deploying mdBook to GitHub Pages With GitHub Actions</a></h1>
<h2 id="step-1-setup-the-repo"><a class="header" href="#step-1-setup-the-repo">Step 1: Setup the Repo</a></h2>
<ul>
<li>
<p>Create a new GitHub repo.</p>
</li>
<li>
<p>Run:</p>
</li>
</ul>
<pre><code class="language-sh">cargo install mdbook
mdbook init my-docs
cd my-docs
</code></pre>
<h2 id="step-2-add-github-actions-workflow"><a class="header" href="#step-2-add-github-actions-workflow">Step 2: Add GitHub Actions Workflow</a></h2>
<ul>
<li>Create .github/workflows/deploy.yml:</li>
</ul>
<pre><code class="language-yml">name: Deploy mdBook to GitHub Pages

on:
  push:
    branches:
      - main

jobs:
  deploy:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout repository
        uses: actions/checkout@v3

      - name: Install mdBook
        run: cargo install mdbook

      - name: Build the book
        run: mdbook build

      - name: Setup SSH Authentication
        run: |
          mkdir -p ~/.ssh
          echo "${{ secrets.SSH_PRIVATE_KEY }}" &gt; ~/.ssh/id_ed25519
          chmod 600 ~/.ssh/id_ed25519
          ssh-keyscan github.com &gt;&gt; ~/.ssh/known_hosts

      - name: Deploy to GitHub Pages
        uses: peaceiris/actions-gh-pages@v3
        with:
          github_token: ${{ secrets.GITHUB_TOKEN }}
          publish_dir: ./book
</code></pre>
<p><code>SSH_PRIVATE_KEY</code> -&gt; (<code>id_ed25519</code>)
<code>GITHUB_TOKEN</code> -&gt; GitHub adds this automatically</p>
<h2 id="step-3-add-secrets"><a class="header" href="#step-3-add-secrets">Step 3: Add Secrets</a></h2>
<ul>
<li>Generate a separate SSH key for CI/CD</li>
</ul>
<pre><code class="language-sh">ssh-keygen -t id_ed25519 -C "GitHub Actions Deploy Key"
</code></pre>
<ul>
<li>
<p>Go to Repo -&gt; Settings -&gt; Secrets and Variables -&gt; Actions</p>
</li>
<li>
<p>Add <code>SSH_PRIVATE_KEY</code> -&gt; Paste the private key (<code>id_ed25519</code>)</p>
</li>
<li>
<p>Go to Repo -&gt; Settings -&gt; Deploy key</p>
</li>
<li>
<p>Paste the public key (<code>id_ed25519.pub</code>)</p>
</li>
</ul>
<h2 id="step-4-enable-permissions"><a class="header" href="#step-4-enable-permissions">Step 4: Enable Permissions</a></h2>
<ul>
<li>Go to Repo -&gt; Settings -&gt; Actions -&gt; General</li>
<li>Under Workflow Permissions, enable:
‚úÖ Read and Write Permissions
‚úÖ Allow GitHub Actions to create and approve pull requests</li>
</ul>
<h2 id="step-5-push-and-deploy"><a class="header" href="#step-5-push-and-deploy">Step 5: Push and Deploy</a></h2>
<pre><code class="language-sh">git add .
git commit -m "Deploy Book"
git push origin main
</code></pre>
<p>If it all goes well, your docs should be live.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="cicd-pipeline-setup-for-cloud-run"><a class="header" href="#cicd-pipeline-setup-for-cloud-run">CI/CD Pipeline Setup for Cloud Run</a></h1>
<p>Deploy your projects automatically with a simple git commit and git push.
To do this, you need to <a href="https://cloud.google.com/sdk/docs/install#deb">Install the gcloud CLI</a></p>
<h2 id="step-1-test-locally-with-docker"><a class="header" href="#step-1-test-locally-with-docker">Step 1: Test Locally with Docker</a></h2>
<p>Build the image and test before pushing anything to Google Cloud.</p>
<pre><code class="language-sh">docker build -t my-portfolio .
docker run -p 8080:8080 my-portfolio
</code></pre>
<ul>
<li>Fix any port, environment, or dependency issues locally first.</li>
<li>Once it works locally, move on to Google Cloud.</li>
</ul>
<h2 id="step-2-set-up-google-cloud"><a class="header" href="#step-2-set-up-google-cloud">Step 2: Set Up Google Cloud</a></h2>
<ul>
<li>Enable the required APIs (run these in your terminal):</li>
</ul>
<pre><code class="language-sh">gcloud services enable \
  cloudbuild.googleapis.com \
  run.googleapis.com \
  artifactregistry.googleapis.com
</code></pre>
<p>This ensures Google Cloud has all necessary services activated.</p>
<ul>
<li>Create an Artifact Registry repo for Docker images:</li>
</ul>
<pre><code class="language-sh">gcloud artifacts repositories create portfolio-repo \
  --repository-format=docker \
  --location=europe-west2 \
  --description="Docker repository for portfolio deployment"
</code></pre>
<p>This stores your container images so Cloud Run can pull them.</p>
<h2 id="step-3-create-a-service-account-for-github-actions"><a class="header" href="#step-3-create-a-service-account-for-github-actions">Step 3: Create a Service Account for GitHub Actions</a></h2>
<ul>
<li>Create a user for CI/CD:</li>
</ul>
<pre><code class="language-sh">gcloud iam service-accounts create github-deployer \
  --description="GitHub Actions service account" \
  --display-name="GitHub Deployer"
</code></pre>
<p>This creates a dedicated user for deploying the app.</p>
<ul>
<li>Grant it permissions:</li>
</ul>
<pre><code class="language-sh">gcloud projects add-iam-policy-binding $YOUR_PROJECT_ID \
  --member=serviceAccount:github-deployer@$YOUR_PROJECT_ID.iam.gserviceaccount.com \
  --role=roles/run.admin

gcloud projects add-iam-policy-binding $YOUR_PROJECT_ID \
  --member=serviceAccount:github-deployer@$YOUR_PROJECT_ID.iam.gserviceaccount.com \
  --role=roles/artifactregistry.writer

gcloud projects add-iam-policy-binding $YOUR_PROJECT_ID \
  --member=serviceAccount:github-deployer@$YOUR_PROJECT_ID.iam.gserviceaccount.com \
  --role=roles/storage.admin
</code></pre>
<p>GitHub Actions can now push images &amp; deploy to Cloud Run.</p>
<ul>
<li>Generate a key file for the service account:</li>
</ul>
<pre><code class="language-sh">gcloud iam service-accounts keys create key.json \
  --iam-account=github-deployer@$YOUR_PROJECT_ID.iam.gserviceaccount.com
</code></pre>
<p>This creates key.json, which contains the credentials.</p>
<h3 id="add-secrets-to-github"><a class="header" href="#add-secrets-to-github">Add Secrets to GitHub</a></h3>
<ul>
<li>
<p>Go to your GitHub repo -&gt; Settings -&gt; Secrets and Variables -&gt; Actions</p>
</li>
<li>
<p>Add two secrets:</p>
<p>1.GCP_SERVICE_ACCOUNT_KEY ‚Üí Copy &amp; paste the full contents of key.json.</p>
<p>2.GCP_PROJECT_ID ‚Üí Your Google Cloud project ID.</p>
</li>
</ul>
<p>Now, GitHub Actions can authenticate with Google Cloud</p>
<h2 id="step-5-create-github-actions-workflows-deployyml"><a class="header" href="#step-5-create-github-actions-workflows-deployyml">Step 5: Create GitHub Actions Workflows (<code>deploy.yml</code>)</a></h2>
<ul>
<li>In your repo, create:
.github/workflows/deploy.yml</li>
</ul>
<pre><code class="language-yml">name: Deploy to Cloud Run

on:
  push:
    branches:
      - main

jobs:
  deploy:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout repository
        uses: actions/checkout@v3

      - name: Authenticate with Google Cloud
        uses: google-github-actions/auth@v2
        with:
          credentials_json: ${{ secrets.GCP_SERVICE_ACCOUNT_KEY }}
      
      - name: Set Up Google Cloud SDK
        run: |
          gcloud auth configure-docker europe-west2-docker.pkg.dev

      - name: Build and push Docker Image
        run: |
          docker build -t europe-west2-docker.pkg.dev/${{ secrets.GCP_PROJECT_ID }}/portfolio-repo/portfolio .
          docker push europe-west2-docker.pkg.dev/${{ secrets.GCP_PROJECT_ID }}/portfolio-repo/portfolio

      - name: Deploy to Cloud Run
        run: |
          gcloud run deploy portfolio-site \
          --image europe-west2-docker.pkg.dev/${{ secrets.GCP_PROJECT_ID }}/portfolio-repo/portfolio \
          --platform managed \
          --region europe-west2 \
          --allow-unauthenticated
</code></pre>
<p>Now, every push to <code>main</code> will automatically deploy to Cloud Run.</p>
<h2 id="step-6-push--deploy"><a class="header" href="#step-6-push--deploy">Step 6: Push &amp; Deploy</a></h2>
<ul>
<li>Once everything is set up:</li>
</ul>
<pre><code class="language-sh">git add .
git commit -m "Setup GitHub Actions CI/CD"
git push origin main
</code></pre>
<p>Check GitHub Actions -&gt; It should build &amp; deploy your project automatically.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="adding-a-domain-to-google-cloud-run"><a class="header" href="#adding-a-domain-to-google-cloud-run">Adding a Domain to Google Cloud Run</a></h1>
<p>I have unfortunately decided to swallow my pride and use the Google Cloud UI for this one.</p>
<h2 id="step-1-set-up-domain-mapping"><a class="header" href="#step-1-set-up-domain-mapping">Step 1: Set Up Domain Mapping</a></h2>
<ul>
<li>
<p>Go to the google cloud console -&gt; select the Cloud Run service.</p>
</li>
<li>
<p>Click <strong>"Manage custom domains"</strong></p>
</li>
<li>
<p>CLick <strong>Add Mapping</strong> -&gt; <strong>"Add service domain mapping"</strong></p>
</li>
<li>
<p><strong>Select the service</strong> you want to map to -&gt; select your deployed project.</p>
</li>
<li>
<p><strong>Enter your domain name</strong> -&gt; Click <strong>"Continue"</strong></p>
</li>
<li>
<p>Google Cloud will <strong>generate DNS records</strong> -&gt; <strong>copy these</strong></p>
</li>
</ul>
<h2 id="step-2-update-dns-settings-in-your-domain-host"><a class="header" href="#step-2-update-dns-settings-in-your-domain-host">Step 2: Update DNS Settings in Your Domain Host**</a></h2>
<ul>
<li>
<p><strong>Go to your domain provider</strong> (Cloudflare, Namecheap, Google Domains, etc.).</p>
</li>
<li>
<p>Paste the DNS records <strong>exactly as given</strong>.</p>
</li>
<li>
<p>If you are using <strong>Cloudflare</strong>, set your records to <strong>"DNS Only"</strong> (disabling proxy mode) so Google can verify them.</p>
</li>
</ul>
<h2 id="step-3-verify-the-dns-changes"><a class="header" href="#step-3-verify-the-dns-changes">Step 3: Verify the DNS Changes</a></h2>
<ul>
<li>While waiting, feel free to test your domain name on nslookup.io.</li>
<li>If the IPv4 and IPv6 addresses matches what Google gave you, then you're good.</li>
</ul>
<h2 id="bonus-enable-subdomains"><a class="header" href="#bonus-enable-subdomains">Bonus: Enable Subdomains</a></h2>
<ul>
<li>Bonus: in your domain host DNS settings, add * as a host, CNAME as type and ghs.googlehosted.com if you want subdomains.</li>
</ul>
<p>-Now any subdomain (<code>blog.yourdomain.com</code>, <code>api.yourdomain.com</code>, etc.) will automatically work.</p>
<h1 id="fix-if-your-cloud-run-region-doesnt-support-domain-mapping"><a class="header" href="#fix-if-your-cloud-run-region-doesnt-support-domain-mapping">Fix: If Your Cloud Run Region Doesn‚Äôt Support Domain Mapping</a></h1>
<p>üî• <strong>If you see:</strong></p>
<p>‚ùå <em>"Domain mappings are not available in this region."</em></p>
<p>üíÄ <strong>Google Cloud decided your region isn‚Äôt good enough.</strong></p>
<ul>
<li>
<p><strong>Just edit the YAML file in your repository to switch to a supported one.</strong></p>
</li>
<li>
<p><strong>Commit and push the change.</strong></p>
</li>
<li>
<p>In your Cloud Run services, remove the old container.</p>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="how-to-configure-google-cloud-storage-bucket-to-store-any-files"><a class="header" href="#how-to-configure-google-cloud-storage-bucket-to-store-any-files">How to configure Google Cloud Storage Bucket to store any files</a></h1>
<ul>
<li>Create a Google Cloud Storage Bucket. Make sure to pick a unique bucket name!</li>
<li>Example locations: us-central1, europe-west2, asia-east1.</li>
</ul>
<pre><code class="language-bash">gcloud storage buckets create gs://UNIQUE_BUCKET_NAME
--location=SERVER_LOCATION
--uniform-bucket-level-access

# Navigate to your folder path
cd ~/Downloads

# Upload the entire "public" folder
gsutil cp -r /public gs://UNIQUE_BUCKET_NAME

# Upload a single file, or an entire folder (later updates)
gsutil cp myfile.png gs://UNIQUE_BUCKET_NAME
gsutil cp -r myfolder gs://UNIQUE_BUCKET_NAME

# Automate Upload with Wildcards (this uploads all .jpg files in the current directory)
gsutil cp *.jpg gs://UNIQUE_BUCKET_NAME

# (Optional) Make files Public. This will make the files publicly accessed via URL.
gsutil iam ch allUsers:objectViewer gs://UNIQUE_BUCKET_NAME

# Access to an image in the folder with your web browser, once uploaded.
https://storage.googleapis.com/UNIQUE_BUCKET_NAME/your-file.jpg

# List Files in the Bucket
gsutil ls gs://UNIQUE_BUCKET_NAME

# Delete Files (if needed)
gsutil rm gs://UNIQUE_BUCKET_NAME/filename.png
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="setup-postgresql-for-testing-environments"><a class="header" href="#setup-postgresql-for-testing-environments">Setup PostgreSQL for Testing Environments</a></h1>
<h2 id="1-setting-up-postgresql-for-github-actions"><a class="header" href="#1-setting-up-postgresql-for-github-actions">1. Setting Up PostgreSQL for GitHub Actions</a></h2>
<ul>
<li>Go to your GitHub repo ‚Üí Settings ‚Üí Secrets and variables ‚Üí Actions</li>
<li>Add your Postgres credentials as secrets‚Ä®</li>
<li>In your CI/CD workflow (.github/workflows/deploy.yml), use them like this:</li>
</ul>
<pre><code class="language-yaml">env:
  DATABASE_URL: ${{ secrets.DATABASE_URL }}
</code></pre>
<ul>
<li>Now your database credentials are safe, instead of hardcoded into a .env file waiting to get leaked.</li>
</ul>
<h2 id="2-running-postgresql-as-a-service-in-github-actions"><a class="header" href="#2-running-postgresql-as-a-service-in-github-actions">2. Running PostgreSQL as a Service in GitHub Actions:</a></h2>
<p>Save the following YAML file inside .github/workflows/ as test-postgres.yml.</p>
<pre><code class="language-yaml">name: Run Tests with PostgreSQL

on:
  push:
    branches:
      - main
      - develop
  pull_request:

jobs:
  test:
    runs-on: ubuntu-latest

    services:
      postgres:
        image: postgres
        env:
          POSTGRES_USER: user
          POSTGRES_PASSWORD: password
          POSTGRES_DB: testdb
        ports:
          - 5432:5432
        options: &gt;-
          --health-cmd "pg_isready -U user"
          --health-interval 10s
          --health-timeout 5s
          --health-retries 5

    steps:
      - name: Checkout Repository
        uses: actions/checkout@v3

      - name: Set up PostgreSQL
        run: |
          psql -h localhost -U user -d testdb -c "SELECT 'PostgreSQL is running';"
        env:
          PGPASSWORD: password

      - name: Run Tests
        run: ./run_tests.sh
        env:
          DATABASE_URL: "postgres://user:password@localhost:5432/testdb"
</code></pre>
<ul>
<li>Spins up a fresh new Postgres instance for every GitHub Actions run, keeping tests isolated and repeatable.</li>
<li>Prevents side effects from shared databases.</li>
</ul>
<h2 id="3-local-testing-with-docker-compose-optional"><a class="header" href="#3-local-testing-with-docker-compose-optional">3. Local Testing with Docker-Compose (optional)</a></h2>
<ul>
<li><strong>To test in a local environment.</strong></li>
<li>Use docker-compose for quick local Postgres testing:</li>
</ul>
<pre><code class="language-yaml">version: '3.8'
services:
  db:
    image: postgres:latest
    restart: always
    environment:
      POSTGRES_USER: user
      POSTGRES_PASSWORD: password
      POSTGRES_DB: mydb
    ports:
      - "5432:5432"
</code></pre>
<ul>
<li>This lets you test locally in the same way GitHub Actions does.</li>
<li>Resets everything with each restart, ensuring clean test environments.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="set-up-postgresql-in-google-cloud-sql-core-setup"><a class="header" href="#set-up-postgresql-in-google-cloud-sql-core-setup">Set Up PostgreSQL in Google Cloud SQL (Core Setup)</a></h1>
<h3 id="1-create-a-postgresql-instance"><a class="header" href="#1-create-a-postgresql-instance">1. Create a PostgreSQL Instance</a></h3>
<ul>
<li>Go to Google Cloud Console -&gt; Create a PostgreSQL instance</li>
<li>Pick a region close to your Cloud Run service (to reduce latency)</li>
<li>Enable Automatic Backups (trust me, you‚Äôll need them someday)</li>
<li>Disable public IP (we only connect through the Cloud SQL Proxy)</li>
</ul>
<h3 id="2-create-a-secure-database-user"><a class="header" href="#2-create-a-secure-database-user">2. Create a Secure Database User</a></h3>
<pre><code class="language-bash">gcloud sql users create my_project_user \
  --instance=YOUR_INSTANCE_NAME \
  --password=supersecurepassword
</code></pre>
<ul>
<li>No superusers allowed</li>
<li>No public access</li>
</ul>
<h3 id="3-connect-securely-cloud-sql-proxy-and-iam"><a class="header" href="#3-connect-securely-cloud-sql-proxy-and-iam">3. Connect Securely (Cloud SQL Proxy and IAM)</a></h3>
<ul>
<li>No <code>sudo -u postgres psql</code></li>
<li>Use the Cloud SQL Proxy instead:</li>
</ul>
<pre><code class="language-bash">gcloud auth application-default login
gcloud sql connect my-instance --user=my_project_user
</code></pre>
<ul>
<li>Cloud SQL doesn't let you SSH like a normal Postgres setup.</li>
</ul>
<h2 id="secure-authentication-iam-authentication"><a class="header" href="#secure-authentication-iam-authentication">Secure Authentication: IAM Authentication</a></h2>
<p>Apply IAM-based authentication instead of passwords.</p>
<h3 id="4-create-a-service-account-for-cloud-sql"><a class="header" href="#4-create-a-service-account-for-cloud-sql">4. Create a Service Account for Cloud SQL</a></h3>
<pre><code class="language-bash">gcloud iam service-accounts create cloudsql-user \
  --description="Cloud SQL authentication service account" \
  --display-name="CloudSQL User"
</code></pre>
<h3 id="5-grant-iam-permissions"><a class="header" href="#5-grant-iam-permissions">5. Grant IAM Permissions</a></h3>
<p>This gives only the required permissions to the service account, nothing more.</p>
<pre><code class="language-bash">gcloud projects add-iam-policy-binding $YOUR_PROJECT_ID \
  --member=serviceAccount:cloudsql-user@$YOUR_PROJECT_ID.iam.gserviceaccount.com \
  --role=roles/cloudsql.client

gcloud projects add-iam-policy-binding $YOUR_PROJECT_ID \
  --member=serviceAccount:cloudsql-user@$YOUR_PROJECT_ID.iam.gserviceaccount.com \
  --role=roles/cloudsql.instanceUser
</code></pre>
<ul>
<li>DO NOT give roles/cloudsql.admin unless Future-You wants to cry over accidental privilege escalations.</li>
</ul>
<h3 id="6-enable-iam-authentication-for-cloud-sql"><a class="header" href="#6-enable-iam-authentication-for-cloud-sql">6. Enable IAM Authentication for Cloud SQL</a></h3>
<p>Cloud SQL needs to allow IAM users to authenticate instead of just using password-based logins.</p>
<pre><code class="language-bash">gcloud sql instances patch YOUR_INSTANCE_NAME \
  --database-flags=cloudsql.iam_authentication=on
</code></pre>
<ul>
<li>This tells Postgres to use IAM authentication for users. If this is missing, IAM-based logins will fail.</li>
</ul>
<h3 id="7-create-a-cloud-sql-user-with-iam-authentication"><a class="header" href="#7-create-a-cloud-sql-user-with-iam-authentication">7. Create a Cloud SQL User with IAM Authentication</a></h3>
<p>Now, you create a database user, but instead of a password, it will authenticate via IAM.</p>
<pre><code class="language-bash">gcloud sql users create cloudsql-user \
  --instance=YOUR_INSTANCE_NAME \
  --type=CLOUD_IAM_SERVICE_ACCOUNT \
  --email=cloudsql-user@$YOUR_PROJECT_ID.iam.gserviceaccount.com
</code></pre>
<h3 id="8-connect-to-cloud-sql-using-iam-instead-of-passwords"><a class="header" href="#8-connect-to-cloud-sql-using-iam-instead-of-passwords">8. Connect to Cloud SQL Using IAM (Instead of Passwords)</a></h3>
<pre><code class="language-bash">PGPASSWORD=$(gcloud auth print-access-token) psql \
  "host=/cloudsql/YOUR_PROJECT_ID:YOUR_REGION:YOUR_INSTANCE_NAME \
  dbname=my_project_db \
  user=cloudsql-user@$YOUR_PROJECT_ID.iam.gserviceaccount.com \
  sslmode=disable"
</code></pre>
<ul>
<li>This removes static passwords and forces authentication via IAM tokens.</li>
</ul>
<ol start="3">
<li>Deploying Your App with Cloud SQL (Cloud Run &amp; GitHub Actions)</li>
</ol>
<h3 id="9-store-database-credentials-in-cloud-run"><a class="header" href="#9-store-database-credentials-in-cloud-run">9. Store Database Credentials in Cloud Run</a></h3>
<ul>
<li>Use Google Cloud Secret Manager:</li>
</ul>
<pre><code class="language-bash">gcloud secrets create my-database-url \
  --replication-policy="automatic"
gcloud secrets versions add DATABASE_URL --data-file=&lt;(echo "postgres://my_project_user:supersecurepassword@/my_project_db?host=/cloudsql/YOUR_PROJECT_ID:YOUR_REGION:YOUR_INSTANCE_NAME")
</code></pre>
<p>Inject secrets directly into Cloud Run:</p>
<pre><code class="language-bash">gcloud run services update my-service \
  --update-secrets=DATABASE_URL=DATABASE_URL:latest
</code></pre>
<p>Use this in GitHub Actions as well to test migrations.</p>
<h2 id="testing--local-development"><a class="header" href="#testing--local-development">Testing &amp; Local Development</a></h2>
<h3 id="10-generate-credentials-for-local-testing"><a class="header" href="#10-generate-credentials-for-local-testing">10. Generate Credentials for Local Testing</a></h3>
<p>You‚Äôll need an authentication token every time you connect to Postgres via IAM.</p>
<pre><code class="language-bash">gcloud auth application-default login
gcloud auth print-access-token
</code></pre>
<h3 id="11-run-local-database-migrations-on-cloud-sql"><a class="header" href="#11-run-local-database-migrations-on-cloud-sql">11. Run Local Database Migrations on Cloud SQL</a></h3>
<p>For this step, you should follow the <a href="devops/../database/postgres-local.html">PostgreSQL Local Setup Guide</a> from Step 2, as it also works for this setup.</p>
<pre><code class="language-bash">gcloud sql connect my-instance-name --user=postgres
psql -f setup.sql
</code></pre>
<h3 id="security-avoid-paying-for-googles-mistakes"><a class="header" href="#security-avoid-paying-for-googles-mistakes">Security: Avoid Paying for Google‚Äôs Mistakes</a></h3>
<ul>
<li><strong>Set up a billing alert.</strong> If your database starts scaling up unnecessarily, you will get charged.</li>
<li><strong>Limit instance size in the Cloud SQL settings</strong> (e.g., 1 vCPU, 2GB RAM for small apps).</li>
<li>No open database connections! <strong>Use Cloud SQL Proxy instead of exposing your DB.</strong></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h3 id="this-chapter-will-mostly-cover-debian-type-distributions"><a class="header" href="#this-chapter-will-mostly-cover-debian-type-distributions">This chapter will mostly cover Debian-type distributions.</a></h3>
<div style="break-before: page; page-break-before: always;"></div><h1 id="setting-up-nftables-firewall-rules-for-debian-type-distributions"><a class="header" href="#setting-up-nftables-firewall-rules-for-debian-type-distributions">Setting up nftables Firewall Rules For Debian-type Distributions</a></h1>
<p>Before diving into configurations, you might want to check if nftables is already installed and active on your Debian system.</p>
<ul>
<li>Check if nftables is Installed</li>
</ul>
<pre><code class="language-bash">dpkg -l | grep nftables
</code></pre>
<ul>
<li>If it's installed, you'll see an entry like:</li>
</ul>
<pre><code class="language-bash">ii  nftables   0.9.8-3    amd64    Netfilter nf_tables userspace utility
</code></pre>
<ul>
<li>If it's not installed, install it using:</li>
</ul>
<pre><code class="language-bash">sudo apt update &amp;&amp; sudo apt install nftables
</code></pre>
<ul>
<li>Check if nftables is running</li>
</ul>
<pre><code class="language-bash">sudo systemctl status nftables
</code></pre>
<p>Expected output if running:</p>
<p><code>‚óè nftables.service - Netfilter Tables      Loaded: loaded (/lib/systemd/system/nftables.service; enabled; vendor preset: enabled)      Active: active (exited) since ‚Ä¶ </code></p>
<p>If it is inactive or stopped, you can start and enable it:</p>
<pre><code class="language-bash">sudo systemctl enable --now nftables
</code></pre>
<h2 id="step-1-defining-a-firewall"><a class="header" href="#step-1-defining-a-firewall">Step 1: Defining a Firewall</a></h2>
<p>These following commands will:</p>
<ul>
<li>
<p>Define a Firewall</p>
</li>
<li>
<p>Create a new table named <code>filter</code> in the IPv4(<code>ip</code>) family.</p>
</li>
<li>
<p>Create a chain inside <code>filter</code> to process incoming traffic (<code>input</code> ).</p>
</li>
<li>
<p>It sets the hook to "input" (i.e., traffic directed at this machine).</p>
</li>
<li>
<p>Priority 0 means it runs after other kernel hooks.</p>
</li>
<li>
<p><code>sudo nft add rule ip filter input drop</code> Drops all incoming traffic by default. This means no connections are allowed unless explicitly permitted later.</p>
</li>
<li>
<p><code>sudo nft list ruleset -a</code> Displays the current ruleset, including handle numbers, which are useful if you need to modify or delete specific rules.</p>
</li>
<li>
<p><code>sudo nft delete rule ip filter input handle 2</code> Deletes the rule with handle 2 (you need to check the handle number in your setup).</p>
</li>
</ul>
<pre><code class="language-bash">sudo nft add table ip filter
sudo nft add chain ip filter input {type filter hook input priority 0\;}
sudo nft add rule ip filter input drop
sudo nft list ruleset -a
sudo nft delete rule ip filter input handle 2
</code></pre>
<h2 id="step-2-enable-specific-ports"><a class="header" href="#step-2-enable-specific-ports">Step 2: Enable Specific Ports</a></h2>
<p>These following commands:</p>
<ul>
<li>Allows SSH (port 22) connections if they are:
<ul>
<li>New (first time a connection is made).</li>
<li>Established (continuing an existing session).</li>
</ul>
</li>
<li><code>inet</code> supports both IPv4 and IPv6 in one go.</li>
<li>Opens ports 22 (SSH), 80 (HTTP), and 443(HTTPS).</li>
</ul>
<pre><code class="language-bash">sudo nft add rule inet filter input tcp dport 22 ct state new,established accept
sudo nft add rule inet filter input tcp dport { 22, 80, 443 } ct state new,established accept
</code></pre>
<h2 id="step-3-save--persist-the-firewall"><a class="header" href="#step-3-save--persist-the-firewall">Step 3: Save &amp; Persist the Firewall</a></h2>
<ul>
<li>Save the current firewall rules into a file named <code>firewall.config</code>.</li>
<li>Reload the firewall from the saved configurations.</li>
</ul>
<pre><code class="language-bash">sudo nft list ruleset &gt; firewall.config
sudo nft -f firewall.config
</code></pre>
<p>Reloads the firewall from the saved configuration.</p>
<ul>
<li>If you want to persist the rules across reboots, enable the systemd service:</li>
</ul>
<pre><code class="language-bash">sudo systemctl enable nftables.service
</code></pre>
<h2 id="avoiding-the-network-cut-off-problem"><a class="header" href="#avoiding-the-network-cut-off-problem">Avoiding the Network Cut-off Problem</a></h2>
<p>Firewall misconfiguration can lock you out if you're SSH-ing into a remote server. Here‚Äôs how to avoid getting locked out:</p>
<ul>
<li>Always Allow SSH First Before you apply the drop-all rule, make sure to allow SSH connections first:</li>
</ul>
<pre><code class="language-bash">sudo nft add rule inet filter input tcp dport 22 ct state new,established accept
</code></pre>
<p>Then you can safely run:</p>
<pre><code class="language-bash">sudo nft add rule ip filter input drop
</code></pre>
<ul>
<li>
<p>Have a Backup Terminal</p>
<ul>
<li>Open a second SSH session before applying firewall rules.</li>
<li>If something goes wrong, you can restore settings from the backup session.</li>
</ul>
</li>
<li>
<p>Use a "Grace Period" Rule Instead of locking yourself out immediately, you can set a temporary rule that auto-expires:</p>
</li>
</ul>
<pre><code class="language-bash">sudo nft add rule ip filter input tcp dport 22 accept timeout 5m
</code></pre>
<p>This allows SSH access for 5 minutes, giving you time to fix mistakes before the rule disappears.</p>
<div style="break-before: page; page-break-before: always;"></div><h3 id="this-chapter-will-mostly-cover-postgresql"><a class="header" href="#this-chapter-will-mostly-cover-postgresql">This chapter will mostly cover PostgreSQL.</a></h3>
<div style="break-before: page; page-break-before: always;"></div><h1 id="postgresql-local-setup-guide"><a class="header" href="#postgresql-local-setup-guide">PostgreSQL Local Setup Guide</a></h1>
<p>Use the postgres superuser to create a new user, a new database and manage their permissions. For all future database operations and for production, only use the created my_project_user.</p>
<p>The following guide might seem a little over-engineered for a casual app, but it will ensure a level of security conform to production level applications.</p>
<h2 id="step-1-login-as-superuser"><a class="header" href="#step-1-login-as-superuser">Step 1: Login as superuser</a></h2>
<pre><code class="language-bash">sudo -i -u postgres psql
</code></pre>
<p>if it fails, you may need to restart Postgres with:</p>
<pre><code class="language-bash">/etc/init.d/postgresql restart
</code></pre>
<ul>
<li>The default Postgres installation comes with a superuser called postgres.</li>
<li>We use this account to set up new users and databases.</li>
</ul>
<p><strong>You can fill in with your own informations, store them in a file (such as <code>setup.sql</code>) and use them in production.</strong></p>
<h2 id="step-2-create-a-new-database-two-new-users-and-a-separate-schema"><a class="header" href="#step-2-create-a-new-database-two-new-users-and-a-separate-schema">Step 2: Create a New Database, Two New Users and A Separate Schema</a></h2>
<ul>
<li>Inside the Postgres shell (<code>psql</code>) run (or better: write into your <code>setup.sql</code> file):</li>
</ul>
<pre><code class="language-sql">-- Create a database user (replace with a strong password) and a temporary admin

CREATE USER temp_admin WITH PASSWORD 'temp_admin_password';
CREATE USER my_project_user WITH PASSWORD 'supersecurepassword';

-- Create the database and assign ownership to the user

GRANT my_project_user TO temp_admin;
CREATE DATABASE my_project_db OWNER temp_admin;
GRANT CONNECT ON DATABASE my_project_db TO my_project_user;

-- If you want isolation from the default public schema, create a custom schema:
CREATE SCHEMA my_project_schema AUTHORIZATION my_project_user;
ALTER DATABASE my_project_db SET search_path TO my_project_schema;
GRANT USAGE ON SCHEMA my_project_schema TO my_project_user;
</code></pre>
<ul>
<li>This ensures that your database is not owned by the postgres superuser.</li>
<li>The my_project_user will have full control over my_project_db, but no power over system-wide databases.</li>
<li><strong>From here, this guide assumes you have created my_project_schema.</strong></li>
</ul>
<h2 id="step-3-restrict-dangerous-permissions"><a class="header" href="#step-3-restrict-dangerous-permissions">Step 3: Restrict Dangerous Permissions</a></h2>
<p>By default, new users can create or drop objects inside the project schema. We don‚Äôt want that.</p>
<pre><code class="language-sql">-- Explicitly grant CREATE on schema
GRANT CREATE ON SCHEMA my_project_schema TO my_project_user;

-- Explicitly remove DROP privileges on existing tables
REVOKE DROP ON ALL TABLES IN SCHEMA my_project_schema FROM my_project_user;
ALTER DEFAULT PRIVILEGES FOR ROLE my_project_user IN SCHEMA my_project_schema
REVOKE DROP ON TABLES FROM my_project_user;
</code></pre>
<ul>
<li>This prevents accidental database-wide modifications.</li>
<li>The user will still be able to read and modify existing tables.</li>
</ul>
<h2 id="step-4-enforce-security-best-practices"><a class="header" href="#step-4-enforce-security-best-practices">Step 4: Enforce Security Best Practices</a></h2>
<p>You should prevent the user from becoming a superuser, creating other databases and creating new users.</p>
<pre><code class="language-sql">ALTER USER my_project_user WITH NOSUPERUSER NOCREATEDB NOCREATEROLE;
</code></pre>
<h2 id="step-5-allow-crud-operations"><a class="header" href="#step-5-allow-crud-operations">Step 5: Allow CRUD Operations</a></h2>
<pre><code class="language-sql">-- Grant CRUD operations to the user, and ensure it has access to future tables as well
ALTER DEFAULT PRIVILEGES FOR ROLE my_project_user IN SCHEMA my_project_schema
GRANT SELECT, INSERT, UPDATE, DELETE ON TABLES TO my_project_user;
</code></pre>
<h2 id="step-6-grant-usage-on-sequences-critical-for-auto-increments"><a class="header" href="#step-6-grant-usage-on-sequences-critical-for-auto-increments">Step 6: Grant Usage on Sequences (Critical for Auto Increments)</a></h2>
<pre><code class="language-sql">ALTER DEFAULT PRIVILEGES FOR ROLE my_project_user IN SCHEMA my_project_schema
GRANT USAGE, SELECT, UPDATE ON SEQUENCES TO my_project_user;
</code></pre>
<h2 id="step-7-drop-temp_admin"><a class="header" href="#step-7-drop-temp_admin">Step 7: Drop temp_admin</a></h2>
<p>Since at this point, temp_admin has only been used to create a new database, it still has full ownership and is a security risk. You should reassign everything and then delete it.
If you want, you can always keep it and modify its permissions separately, but this is a pragmatic and secure solution.</p>
<pre><code class="language-sql">-- Reassign all objects owned by temp_admin to my_project_user
REASSIGN OWNED BY temp_admin TO my_project_user;

-- Remove any remaining privileges
DROP OWNED BY temp_admin;

-- Finally, delete the user
DROP USER temp_admin;
</code></pre>
<h2 id="step-8-exit-and-verify-setup"><a class="header" href="#step-8-exit-and-verify-setup">Step 8: Exit and Verify Setup</a></h2>
<p><code>\l</code>: List all databases</p>
<p><code>\du</code>: List all users and their roles</p>
<p><code>\q</code>: Exit Postgres shell</p>
<ul>
<li>Show a user's privilege:</li>
</ul>
<pre><code class="language-sql">SELECT * FROM information_schema.role_table_grants
WHERE grantee='my_project_user';
</code></pre>
<h2 id="step-9-connect-as-the-new-user"><a class="header" href="#step-9-connect-as-the-new-user">Step 9: Connect as the New User</a></h2>
<p>If you have created a <code>setup.sql</code> file with the informations above and filled in with your own data, you can import it into Postgres with this simple command:</p>
<pre><code class="language-bash">psql -U postgres -f setup.sql
</code></pre>
<p>Now test logging into your database as the newly created user:</p>
<pre><code class="language-bash">psql -U my_project_user -d my_project_db
</code></pre>
<h2 id="troubleshooting"><a class="header" href="#troubleshooting">Troubleshooting</a></h2>
<ul>
<li>Delete database/user (if you messed up, can happen):</li>
</ul>
<pre><code class="language-sql">DROP DATABASE my_project_db;
DROP USER my_project_user;
</code></pre>
<ul>
<li>If Postgres refuses to drop a database because it's in use, force disconnect users before deleting:</li>
</ul>
<pre><code class="language-sql">SELECT pg_terminate_backend (pid)
FROM pg_stat_activity
WHERE datname='my_project_db';
</code></pre>
<p>This correctly finds active connections and terminates them.</p>
<ul>
<li>If Postgres refuses to drop the user because they still own objects, you might need to do this before dropping the user:</li>
</ul>
<pre><code class="language-sql">REASSIGN OWNED BY my_project_user TO project_admin;
DROP OWNED BY my_project_user;
DROP USER my_project_user;
</code></pre>
<ul>
<li>Find Which Database a User Owns</li>
</ul>
<pre><code class="language-sql">SELECT datname, pg_catalog.pg_get_userbyid(datdba) AS owner
FROM pg_database;
</code></pre>
<h2 id="add-the-user-to-your-backend-env-file"><a class="header" href="#add-the-user-to-your-backend-env-file">Add the User to your backend .env File</a></h2>
<pre><code class="language-bash">DATABASE_URL=postgres://my_project_user:supersecurepassword@localhost/my_project_db
</code></pre>
<ul>
<li>This keeps credentials outside of the codebase.</li>
<li>Use environment variables instead of hardcoding credentials.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="rate-limiting-with-postgresql"><a class="header" href="#rate-limiting-with-postgresql">Rate Limiting With PostgreSQL</a></h1>
<p>If you have a small app, you do not need to setup an entire new Redis instance. You can instead build your own 'poor mans Redis', with unlogged tables (faster writes and no WAL overhead) and automatic cleanup with a cron job.
In this guide, you will learn how to add a rate limiting feature directly onto PostgreSQL, which is useful to greatly reduce the risk of brute force attacks.</p>
<p><strong>These queries are meant to be run from your backend application file, not from psql.</strong></p>
<h3 id="language-compatibility-notice"><a class="header" href="#language-compatibility-notice">Language Compatibility Notice</a></h3>
<ul>
<li>This SQL syntax ($1, $2, etc...) is compatible with Ruby, JavaScript, and Go.</li>
<li>If using Python (psycopg2), replace $1 with %s.</li>
<li>If using Java (JDBC), use ? placeholders instead.</li>
<li><strong>Regardless of the language, make sure to use parametrized queries</strong> to prevent SQL injection.</li>
</ul>
<h2 id="1-the-rate-limiting-table"><a class="header" href="#1-the-rate-limiting-table">1. The Rate-Limiting Table</a></h2>
<p>Since this is login-related, we can use an UUID identifier and timestamps.</p>
<pre><code class="language-sql">CREATE UNLOGGED TABLE login_attempts (
    session_id UUID DEFAULT gen_random_uuid(),  -- Secure, unique session tracking
    username TEXT NOT NULL,
    attempt_count INT DEFAULT 1,
    first_attempt TIMESTAMP DEFAULT now(),
    PRIMARY KEY (session_id, username)  -- Prevent duplicate session-user pairs
);
</code></pre>
<ul>
<li>Unlogged -&gt; Faster writes, no WAL overhead.</li>
<li>UUID session identifiers are more reliable than tracking IP addresses -&gt; no risk of blocking users with shared IP, or letting botnets or spoof IPs pass.</li>
</ul>
<h2 id="2-when-a-login-attempt-happens"><a class="header" href="#2-when-a-login-attempt-happens">2. When a Login Attempt Happens</a></h2>
<p>Now, inserting into this table will automatically generate a secure, unique session identifier.</p>
<pre><code class="language-sql">INSERT INTO login_attempts (username, attempt_count)
VALUES ($1, 1)
ON CONFLICT (username) 
DO UPDATE SET
  attempt_count = login_attempts.attempt_count + 1
  first_attempt = CASE
  WHEN login_attempts.first_attempt &lt;= now() - INTERVAL '20 minutes'
  THEN now()
  ELSE login_attempts.first_attempt
END;
</code></pre>
<ul>
<li>If it‚Äôs a new user, it gets inserted.</li>
<li>If it already exists, it updates only if the time window hasn‚Äôt expired.</li>
<li>If it has expired, the row stays the same (so it doesn‚Äôt increment forever).</li>
</ul>
<h2 id="3-checking-if-the-uuid-is-blocked"><a class="header" href="#3-checking-if-the-uuid-is-blocked">3. Checking If the UUID is Blocked</a></h2>
<p>Before processing a login attempt, check if the UUID should be blocked.</p>
<pre><code class="language-sql">SELECT attempt_count FROM login_attempts
WHERE username = $1
AND first_attempt &gt; now() - INTERVAL '20 minutes';
</code></pre>
<p>If attempt_count &gt; 5, deny the login request.</p>
<h2 id="4-automatically-cleaning-up-old-records"><a class="header" href="#4-automatically-cleaning-up-old-records">4. Automatically Cleaning Up Old Records</a></h2>
<ul>
<li>Once an IP ages out of the 20-minute window, we don‚Äôt need to track it anymore.</li>
<li>This step requires a PostgreSQL extension, pg_cron, which you can find here: <a href="https://github.com/citusdata/pg_cron">pg_cron</a></li>
<li>Then, you might want to alter your default database configuration file (which you have hopefully created first by following <a href="database/postgres-local.html">this guide</a>.</li>
</ul>
<pre><code class="language-sql">ALTER USER my_project_user SET cron.job_run_as_owner = true;
</code></pre>
<ul>
<li>Set up the pg_cron extension:</li>
</ul>
<pre><code class="language-sql">CREATE EXTENSION pg_cron;

CREATE OR REPLACE FUNCTION cleanup_old_attempts() RETURNS VOID AS $$
DELETE FROM login_attempts WHERE first_attempt &lt; now() - INTERVAL '20 minutes';
$$ LANGUAGE sql;

-- Auto clean up of old attempts, every 5 minutes
SELECT cron.schedule('*/5 * * * *', $$SELECT cleanup_old_attempts()$$);
</code></pre>
<ul>
<li>Keeps the table lightweight instead of storing old attempts forever.</li>
<li>Runs every 5 minutes, but you can tweak as needed.</li>
</ul>
<h2 id="for-deployment"><a class="header" href="#for-deployment">For deployment</a></h2>
<p>Google Cloud SQL supports pg_cron, but you have to manually enable it since it's disabled by default.</p>
<ul>
<li>Go to Google Cloud Console</li>
<li>Navigate to your PostgreSQL instance</li>
<li>Enable pg_cron extension
<ul>
<li>Go to Configuration -&gt; Flags</li>
<li>Add a new flag:</li>
</ul>
<pre><code>shared_preload_libraries = 'pg_cron'
</code></pre>
<ul>
<li>Click 'Save Changes &amp; Restart the instance'.</li>
</ul>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="how-to-boot-up-redis"><a class="header" href="#how-to-boot-up-redis">How to Boot Up Redis</a></h1>
<h2 id="1installing-redis-on-debian"><a class="header" href="#1installing-redis-on-debian">1.Installing Redis on Debian</a></h2>
<p>Add the repository to the APT index, update it, and install Redis:</p>
<pre><code class="language-bash">sudo apt-get install lsb-release curl gpg
curl -fsSL https://packages.redis.io/gpg | sudo gpg --dearmor -o /usr/share/keyrings/redis-archive-keyring.gpg
sudo chmod 644 /usr/share/keyrings/redis-archive-keyring.gpg
echo "deb [signed-by=/usr/share/keyrings/redis-archive-keyring.gpg] https://packages.redis.io/deb $(lsb_release -cs) main" | sudo tee /etc/apt/sources.list.d/redis.list
sudo apt-get update
sudo apt-get install redis
</code></pre>
<ul>
<li>Then enable and start the service:</li>
</ul>
<pre><code class="language-bash">sudo systemctl enable redis
sudo systemctl start redis
</code></pre>
<h2 id="2-basic-configuration-to-avoid-chaos"><a class="header" href="#2-basic-configuration-to-avoid-chaos">2. Basic Configuration (to Avoid Chaos)</a></h2>
<ul>
<li>Redis has a bad habit of storing everything in RAM, so if you don‚Äôt configure it properly, it could eat all your memory and crash your system. (A very unforgiving trait.)</li>
<li>Edit /etc/redis/redis.conf and set some sanity limits:</li>
</ul>
<pre><code class="language-bash">maxmemory 256mb
maxmemory-policy allkeys-lru
</code></pre>
<p>Explanation:</p>
<ul>
<li>Limits Redis to 256MB so it doesn‚Äôt consume your entire system.</li>
<li>Uses allkeys-lru policy, meaning it will automatically remove the least recently used keys once the memory limit is reached.</li>
</ul>
<h2 id="3-connecting-to-redis"><a class="header" href="#3-connecting-to-redis">3. Connecting to Redis</a></h2>
<ul>
<li>After installing, you can test it by running:</li>
</ul>
<pre><code class="language-bash">redis-cli ping
</code></pre>
<ul>
<li>
<p>If it replies with PONG, congratulations‚Äîyou've awakened another beast.</p>
</li>
<li>
<p>Set and retrieve a value:</p>
</li>
</ul>
<pre><code class="language-bash">SET spell "fireball"
GET spell
</code></pre>
<p>‚Üí Should return "fireball" (instant, no SQL involved).</p>
<h2 id="4-securing-redis-because-it-trusts-too-much"><a class="header" href="#4-securing-redis-because-it-trusts-too-much">4. Securing Redis (Because It Trusts Too Much)</a></h2>
<ul>
<li>
<p>By default, Redis binds to all interfaces, meaning anyone could connect if they know the IP. That‚Äôs bad.</p>
</li>
<li>
<p>Limit Redis to localhost:
Edit /etc/redis/redis.conf and change:</p>
</li>
</ul>
<pre><code class="language-bash"># bind 127.0.0.1 ::1
</code></pre>
<p>Keep this enabled by default</p>
<pre><code class="language-bash">protected-mode yes
</code></pre>
<ul>
<li>Set a strong password:
Set a password (optional, overkill for local but useful for staging/prod):</li>
</ul>
<pre><code class="language-bash">requirepass supersecurepassword
</code></pre>
<p>üîê If you do this, don't forget to connect with:</p>
<pre><code class="language-ruby">Redis.new(password: ENV['REDIS_PASSWORD'])
</code></pre>
<ul>
<li>Restart Redis for changes to apply:</li>
</ul>
<pre><code class="language-bash">sudo systemctl restart redis
</code></pre>
<p>Confirm it's only bound to localhost:</p>
<pre><code class="language-bash">sudo ss -tlnp | grep redis
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><div style="break-before: page; page-break-before: always;"></div><h3 id="gitignore-a-file-that-has-already-been-pushed"><a class="header" href="#gitignore-a-file-that-has-already-been-pushed">.gitignore a file that has already been pushed</a></h3>
<pre><code class="language-bash">echo debug.log &gt;&gt; .gitignore

git¬†rm¬†--cached¬†debug.log

git¬†commit¬†-m¬†"Start¬†ignoring¬†debug.log"
</code></pre>
<h3 id="change-the-url-of-a-repository"><a class="header" href="#change-the-url-of-a-repository">Change the URL of a repository:</a></h3>
<pre><code class="language-bash">git remote -v
</code></pre>
<p>Then, you can set it with:</p>
<pre><code class="language-bash">git remote set-url origin &lt;NEW_GIT_URL_HERE&gt;
</code></pre>
<h3 id="remove-a-git-commit-which-has-not-yet-been-pushed"><a class="header" href="#remove-a-git-commit-which-has-not-yet-been-pushed">Remove a Git commit which has not yet been pushed</a></h3>
<pre><code class="language-bash">git reset --hard HEAD~1
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="yaml-cheatsheet"><a class="header" href="#yaml-cheatsheet">YAML Cheatsheet</a></h1>
<h2 id="what-is-yaml"><a class="header" href="#what-is-yaml">What is YAML</a></h2>
<ul>
<li>Data serializaion language (like XML and JSON)</li>
<li>Standard format to transfer data</li>
<li>Extensions : .yaml and .yml</li>
<li>YAML is a superset of JSON: any valid JSON file is also a valid YAML file</li>
<li>Data structures defined in line separation and indentation</li>
</ul>
<h2 id="yaml-use-cases"><a class="header" href="#yaml-use-cases">YAML Use Cases</a></h2>
<ul>
<li>Docker-compose, Ansible, Kubernetes and many more</li>
</ul>
<h2 id="key-value-pairs"><a class="header" href="#key-value-pairs">Key value pairs</a></h2>
<pre><code class="language-yml">app: user-authentication
port: 9000
# A comment
version: 1.7
# A second comment
</code></pre>
<ul>
<li>For strings, you can use either double quotes, single quotes or no quotes at all. If you use \n, you have to use double quotes or YAML don't recognize it.</li>
</ul>
<h2 id="objects"><a class="header" href="#objects">Objects</a></h2>
<pre><code class="language-yml">microservice:
  app: user-authentication
  port: 9000
  version: 1.7
</code></pre>
<ul>
<li>The space has to be the exact same for each attribute between objects. You can use an online YAML validator because it is sensitive about those spaces.</li>
</ul>
<h2 id="lists--boolean"><a class="header" href="#lists--boolean">Lists &amp; Boolean</a></h2>
<pre><code class="language-yml">microservice:
  - app: user-authentication
    port: 9000
    version: 1.7
    deployed: false # yes and no, on and off works too
    versions:
    - 1.9
    - 2.0
    - 2.1 # You can use lists inside of list items, always align them.
  - app: shopping-cart
    port: 9002
    versions: [2.4, 2.5, "hello"]
    # You can use arrays instead, and have a mix of numbers and strings. 

microservices: 
  - user-authentication
  - shopping-cart
</code></pre>
<h3 id="boolean-pitfalls"><a class="header" href="#boolean-pitfalls">Boolean pitfalls:</a></h3>
<pre><code class="language-yaml">yes: true  # Interpreted as boolean true
no: false  # Interpreted as boolean false
on: true   # Also interpreted as true
off: false # Also interpreted as false
</code></pre>
<p>If you actually want "yes", "no", "on" and "off" as strings, quote them:</p>
<pre><code class="language-yaml">user-input: "yes"  # String, not a boolean
</code></pre>
<h3 id="use-str-int-and-bool-for-explicit-types"><a class="header" href="#use-str-int-and-bool-for-explicit-types">Use !!str, !!int and !!bool for Explicit Types</a></h3>
<p>Sometimes YAML thinks it knows what you mean. Force it to behave.</p>
<pre><code class="language-yaml">bad-example: 00123   # YAML assumes this is an octal number (!!!)
good-example: !!str "00123"  # Now it's a string, not octal
</code></pre>
<h2 id="real-kubernetes-yaml-configuration-example"><a class="header" href="#real-kubernetes-yaml-configuration-example">Real Kubernetes YAML Configuration Example</a></h2>
<ul>
<li>Key-value pairs</li>
<li>metadata: object</li>
<li>labels: object</li>
<li>spec: object</li>
<li>containers: list of objects</li>
<li>ports: list</li>
<li>volumeMounts: list of objects</li>
</ul>
<pre><code class="language-yml">apiVersion: v1
kind: Pod
metadata:
  name: nginx
  labels:
    app: nginx
  spec:
    containers:
    - name: nginx-container
      image: nginx
      ports:
      - containerPort: 80
      volumeMounts:
      - name: nginx-vol
        mountPath: /usr/nginx/html
    - name: sidecar-container
      image: curlimages/curl
      command: ["/bin/sh"]
      args: ["-c", "echo Hello from the sidecar container; sleep 300"]
</code></pre>
<h2 id="multi-line-strings"><a class="header" href="#multi-line-strings">Multi Line Strings</a></h2>
<pre><code class="language-yml">multilineString: |
  this is a multiline String
  and this is the next line.
  next line

singlelineString: &gt;
  this is a single line String
  that should be all on one line.
  some other stuff
</code></pre>
<ul>
<li>Use | pipes if you want YAML to interpret this as multi line text. The line breaks will stay.</li>
<li>Greater than sign &gt; will be interpreted as a single line.</li>
</ul>
<h3 id="real-kubernetes-examples"><a class="header" href="#real-kubernetes-examples">Real Kubernetes examples</a></h3>
<pre><code class="language-yml">apiVersion: v1
kind: ConfigMap
metadata:
  name: mosquito-config-file
data:
  mosquito.conf: |
    log_dest stdout
    log_type all
    log_timestamp true
    listener 9001
</code></pre>
<ul>
<li>You can put a whole shell script inside a YAML file.</li>
</ul>
<pre><code class="language-yml">command:
  - sh
  - -c
  - |
    http () {
        local path="${1}"
        set -- -XGET -s --fail
        curl -k "$@" "http://localhost:5601${path}"
    }
    http "/app/kibana"
</code></pre>
<h2 id="environment-variables"><a class="header" href="#environment-variables">Environment Variables</a></h2>
<ul>
<li>You can access them using a dollar sign inside your YAML configuration.</li>
</ul>
<pre><code class="language-yml">command:
  - /bin/sh
  - -ec
  - &gt;-
    mysql -h 127.0.0.1 -u root -p$MYSQL_ROOT_PASSWORD -e 'SELECT 1'
</code></pre>
<h2 id="placeholders"><a class="header" href="#placeholders">Placeholders</a></h2>
<ul>
<li>Instead of directly defining values, you can put placeholders with double brackets. It gets replaced using a template generator.</li>
</ul>
<pre><code class="language-yml">apiVersion: v1
kind: Service
metadata:
  name: {{ .Values.service.name }}
spec:
  selector:
    app: {{ .Values.service.app }}
  ports:
    - protocol: TCP
      port: {{ .Values.service.port }}
      targetPort: {{ .Values.service.targetport }}
</code></pre>
<h2 id="yaml-anchors--aliases-dry-principle"><a class="header" href="#yaml-anchors--aliases-dry-principle">YAML Anchors &amp; Aliases (DRY Principle)</a></h2>
<p>YAML lets you reuse values using anchors (&amp;) and aliases (*)</p>
<pre><code class="language-yaml">default-config: &amp;default
  app: user-authentication
  port: 9000
  version: 1.7

microservice:
  - &lt;&lt;: *default  # Reuses the default config
    deployed: false
  - app: shopping-cart
    port: 9002
    version: 2.4
</code></pre>
<h3 id="merge-keys-combine-multiple-defaults"><a class="header" href="#merge-keys-combine-multiple-defaults">Merge Keys (Combine Multiple Defaults)</a></h3>
<p>Anchors can also be merged into objects:</p>
<pre><code class="language-yaml">common-config: &amp;common
  logging: true
  retries: 3

extra-config:
  &lt;&lt;: *common  # Merges the common config
  retries: 5  # Overrides specific values
</code></pre>
<h2 id="multiple-yaml-documents"><a class="header" href="#multiple-yaml-documents">Multiple YAML documents</a></h2>
<ul>
<li>This is especially useful when you have multiple components for one service. Separate them with three dashes.</li>
</ul>
<pre><code class="language-yml">apiVersion: v1
kind: ConfigMap
metadata:
  name: mosquito-config-file
data:
  mosquito.conf: |
    log_dest stdout
    log_type all
    log_timestamp true
    listener 9001

---
apiVersion: v1
kind: Secret
metadata:
  name: mosquito-secret-file
type: Opaque
data:
  secret.file: |
    cbdfdfg654fgdfg6f5sb132v1f6sg854g6s8g66IYUHGFKJHGVfd21=
</code></pre>
<ul>
<li>In Kubernetes, you can use both YAML or JSON, but YAML is cleaner and more readable.</li>
</ul>
<h2 id="yaml-linting-tools"><a class="header" href="#yaml-linting-tools">YAML Linting Tools</a></h2>
<p>A CLI tool:
<a href="https://github.com/adrienverge/yamllint">yamllint</a></p>
<p><code>kubectl apply --dry-run=client -f file.yaml</code>
(Validates YAML syntax for Kubernetes)</p>
<div style="break-before: page; page-break-before: always;"></div><div style="break-before: page; page-break-before: always;"></div><div style="break-before: page; page-break-before: always;"></div><h1 id="sql-cheatsheet---part-one-fundamentals"><a class="header" href="#sql-cheatsheet---part-one-fundamentals">SQL Cheatsheet - Part One (Fundamentals)</a></h1>
<p><strong>What is SQL?</strong></p>
<ul>
<li>Structured Query Language</li>
<li>A language to interact with data.</li>
</ul>
<p><strong>How is data saved?</strong></p>
<ul>
<li>In tables, within the database</li>
</ul>
<p><strong>Imagine the database as a library</strong></p>
<ul>
<li>Table: one of the bookshelves</li>
<li>Data: A book</li>
<li>When we want to retrieve a book, we use SQL.</li>
</ul>
<p><strong>Learn the SQL fundamentals properly and you will be a powerful engineer.</strong></p>
<hr />
<p>In PostgreSQL:</p>
<ul>
<li><code>"double quotes"</code> ‚Üí for <strong>table and column names</strong> (identifiers)</li>
<li><code>'single quotes'</code> ‚Üí for <strong>values</strong> (string comparisons, data, etc)</li>
</ul>
<hr />
<p>We will work with these two tables.</p>
<p><code>table name: kimetsu</code></p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: center">name</th><th style="text-align: center">kokyu</th><th style="text-align: center">feature</th></tr></thead><tbody>
<tr><td style="text-align: center">ÈùôÂ≤° „Ç¢„ÉÄ„É°</td><td style="text-align: center">Âú∞ÁçÑ„ÅÆÂëºÂê∏</td><td style="text-align: center">Á™ÅÈÄ≤</td></tr>
<tr><td style="text-align: center">Á´úÂÆÆÂüé</td><td style="text-align: center">ÁÇé„ÅÆÂëºÂê∏</td><td style="text-align: center">ÁúâÊØõ„ÅÆ‰∫åÊÆµ</td></tr>
<tr><td style="text-align: center">Â≤°Â±± ÊÇü</td><td style="text-align: center">Ê∞¥„ÅÆÂëºÂê∏</td><td style="text-align: center">Â§©ÁÑ∂</td></tr>
<tr><td style="text-align: center">Â§ßË±Ü„ÅÆÂ≠ê</td><td style="text-align: center"></td><td style="text-align: center">Á´π</td></tr>
<tr><td style="text-align: center">È±óÊªù</td><td style="text-align: center">Ê∞¥„ÅÆÂëºÂê∏</td><td style="text-align: center">Â∏´Âå†</td></tr>
</tbody></table>
</div>
<p><code>table name: eva</code></p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: center">name</th><th style="text-align: center">kawaii</th><th style="text-align: center">role</th></tr></thead><tbody>
<tr><td style="text-align: center">„É¨„Ç§</td><td style="text-align: center">10</td><td style="text-align: center">„Éë„Ç§„É≠„ÉÉ„Éà</td></tr>
<tr><td style="text-align: center">„Ç¢„Çπ„Ç´</td><td style="text-align: center">3</td><td style="text-align: center">„Éë„Ç§„É≠„ÉÉ„Éà</td></tr>
<tr><td style="text-align: center">„ÇÜ„ÅÑ</td><td style="text-align: center">6</td><td style="text-align: center"></td></tr>
<tr><td style="text-align: center">„Éü„Çµ„Éà</td><td style="text-align: center">4</td><td style="text-align: center">‰ΩúÊà¶ÈÉ®Èï∑</td></tr>
</tbody></table>
</div>
<ul>
<li>The entire thing: table</li>
<li>Vertical line: a column</li>
<li>Horizontal line: a record</li>
</ul>
<hr />
<p><strong><code>SELECT</code>: displays the desired columns from the specified table</strong></p>
<pre><code class="language-sql">SELECT "name", "feature" -- column name
  FROM kimetsu;        -- table name
</code></pre>
<div class="table-wrapper"><table><thead><tr><th style="text-align: center">name</th><th style="text-align: center">feature</th></tr></thead><tbody>
<tr><td style="text-align: center">ÈùôÂ≤° „Ç¢„ÉÄ„É°</td><td style="text-align: center">Á™ÅÈÄ≤</td></tr>
<tr><td style="text-align: center">Á´úÂÆÆÂüé</td><td style="text-align: center">ÁúâÊØõ„ÅÆ‰∫åÊÆµ</td></tr>
<tr><td style="text-align: center">Â≤°Â±± ÊÇü</td><td style="text-align: center">Â§©ÁÑ∂</td></tr>
<tr><td style="text-align: center">Â§ßË±Ü„ÅÆÂ≠ê</td><td style="text-align: center">Á´π</td></tr>
<tr><td style="text-align: center">È±óÊªù</td><td style="text-align: center">Â∏´Âå†</td></tr>
</tbody></table>
</div>
<hr />
<p><strong><code>AS</code>: renames the desired columns</strong></p>
<pre><code class="language-sql">SELECT "name" AS "ÂêçÂâç", "feature" as "ÁâπÂæ¥"
  FROM kimetsu;
</code></pre>
<div class="table-wrapper"><table><thead><tr><th style="text-align: center">ÂêçÂâç</th><th style="text-align: center">ÁâπÂæ¥</th></tr></thead><tbody>
<tr><td style="text-align: center">ÈùôÂ≤° „Ç¢„ÉÄ„É°</td><td style="text-align: center">Á™ÅÈÄ≤</td></tr>
<tr><td style="text-align: center">Á´úÂÆÆÂüé</td><td style="text-align: center">ÁúâÊØõ„ÅÆ‰∫åÊÆµ</td></tr>
<tr><td style="text-align: center">Â≤°Â±± ÊÇü</td><td style="text-align: center">Â§©ÁÑ∂</td></tr>
<tr><td style="text-align: center">Â§ßË±Ü„ÅÆÂ≠ê</td><td style="text-align: center">Á´π</td></tr>
<tr><td style="text-align: center">È±óÊªù</td><td style="text-align: center">Â∏´Âå†</td></tr>
</tbody></table>
</div>
<hr />
<p><strong>When you don‚Äôt have the energy to type out column names (but still want results fast). Only do this on small tables unless you hate your DBA</strong></p>
<pre><code class="language-sql">SELECT *
  FROM kimetsu;
</code></pre>
<div class="table-wrapper"><table><thead><tr><th style="text-align: center">name</th><th style="text-align: center">kokyu</th><th style="text-align: center">feature</th></tr></thead><tbody>
<tr><td style="text-align: center">ÈùôÂ≤° „Ç¢„ÉÄ„É°</td><td style="text-align: center">Âú∞ÁçÑ„ÅÆÂëºÂê∏</td><td style="text-align: center">Á™ÅÈÄ≤</td></tr>
<tr><td style="text-align: center">Á´úÂÆÆÂüé</td><td style="text-align: center">ÁÇé„ÅÆÂëºÂê∏</td><td style="text-align: center">ÁúâÊØõ„ÅÆ‰∫åÊÆµ</td></tr>
<tr><td style="text-align: center">Â≤°Â±± ÊÇü</td><td style="text-align: center">Ê∞¥„ÅÆÂëºÂê∏</td><td style="text-align: center">Â§©ÁÑ∂</td></tr>
<tr><td style="text-align: center">Â§ßË±Ü„ÅÆÂ≠ê</td><td style="text-align: center"></td><td style="text-align: center">Á´π</td></tr>
<tr><td style="text-align: center">È±óÊªù</td><td style="text-align: center">Ê∞¥„ÅÆÂëºÂê∏</td><td style="text-align: center">Â∏´Âå†</td></tr>
</tbody></table>
</div>
<hr />
<p><strong><code>DISTINCT</code>: How to hide duplicate data within a column</strong></p>
<pre><code class="language-sql">SELECT "kokyu"
  FROM kimetsu;
</code></pre>
<div class="table-wrapper"><table><thead><tr><th style="text-align: center">kokyu</th></tr></thead><tbody>
<tr><td style="text-align: center">Âú∞ÁçÑ„ÅÆÂëºÂê∏</td></tr>
<tr><td style="text-align: center">ÁÇé„ÅÆÂëºÂê∏</td></tr>
<tr><td style="text-align: center">Ê∞¥„ÅÆÂëºÂê∏</td></tr>
<tr><td style="text-align: center"></td></tr>
<tr><td style="text-align: center">Ê∞¥„ÅÆÂëºÂê∏</td></tr>
</tbody></table>
</div>
<pre><code class="language-sql">SELECT DISTINCT "kokyu"
  FROM kimetsu;
</code></pre>
<div class="table-wrapper"><table><thead><tr><th style="text-align: center">kokyu</th></tr></thead><tbody>
<tr><td style="text-align: center">Âú∞ÁçÑ„ÅÆÂëºÂê∏</td></tr>
<tr><td style="text-align: center">ÁÇé„ÅÆÂëºÂê∏</td></tr>
<tr><td style="text-align: center">Ê∞¥„ÅÆÂëºÂê∏</td></tr>
<tr><td style="text-align: center"></td></tr>
</tbody></table>
</div>
<hr />
<p><strong><code>WHERE</code>: Retrieve entries where kawaii is more than 5</strong></p>
<ul>
<li>(Remember, kawaii is subjective, and only a personal opinion.)</li>
<li><code>WHERE</code> works with records.</li>
</ul>
<pre><code class="language-sql">SELECT "name", "kawaii"
  FROM eva
WHERE "kawaii" &gt; 5;
</code></pre>
<div class="table-wrapper"><table><thead><tr><th style="text-align: center">name</th><th style="text-align: center">kawaii</th></tr></thead><tbody>
<tr><td style="text-align: center">„É¨„Ç§</td><td style="text-align: center">10</td></tr>
<tr><td style="text-align: center">„ÇÜ„ÅÑ</td><td style="text-align: center">6</td></tr>
</tbody></table>
</div>
<hr />
<p><strong><code>AND</code>: Add more conditions to your <code>WHERE</code> record query</strong></p>
<pre><code class="language-sql">SELECT *
  FROM eva
WHERE "kawaii" &gt; 5 AND "role" = '„Éë„Ç§„É≠„ÉÉ„Éà';
</code></pre>
<div class="table-wrapper"><table><thead><tr><th style="text-align: center">name</th><th style="text-align: center">kawaii</th><th style="text-align: center">role</th></tr></thead><tbody>
<tr><td style="text-align: center">„É¨„Ç§</td><td style="text-align: center">10</td><td style="text-align: center">„Éë„Ç§„É≠„ÉÉ„Éà</td></tr>
</tbody></table>
</div>
<hr />
<p><strong><code>OR</code>: The record appeals to either those conditions</strong></p>
<pre><code class="language-sql">SELECT *
  FROM eva
WHERE "kawaii" &gt; 5 OR "role" = '„Éë„Ç§„É≠„ÉÉ„Éà';
</code></pre>
<div class="table-wrapper"><table><thead><tr><th style="text-align: center">name</th><th style="text-align: center">kawaii</th><th style="text-align: center">role</th></tr></thead><tbody>
<tr><td style="text-align: center">„É¨„Ç§</td><td style="text-align: center">10</td><td style="text-align: center">„Éë„Ç§„É≠„ÉÉ„Éà</td></tr>
<tr><td style="text-align: center">„Ç¢„Çπ„Ç´</td><td style="text-align: center">3</td><td style="text-align: center">„Éë„Ç§„É≠„ÉÉ„Éà</td></tr>
<tr><td style="text-align: center">„ÇÜ„ÅÑ</td><td style="text-align: center">6</td><td style="text-align: center"></td></tr>
</tbody></table>
</div>
<hr />
<p><strong><code>BETWEEN</code></strong></p>
<pre><code class="language-sql">SELECT *
  FROM eva
WHERE "kawaii" BETWEEN 4 AND 6;
</code></pre>
<div class="table-wrapper"><table><thead><tr><th style="text-align: center">name</th><th style="text-align: center">kawaii</th><th style="text-align: center">role</th></tr></thead><tbody>
<tr><td style="text-align: center">„ÇÜ„ÅÑ</td><td style="text-align: center">6</td><td style="text-align: center"></td></tr>
<tr><td style="text-align: center">„Éü„Çµ„Éà</td><td style="text-align: center">4</td><td style="text-align: center">‰ΩúÊà¶ÈÉ®Èï∑</td></tr>
</tbody></table>
</div>
<hr />
<p><strong><code>IN</code>, <code>NOT IN</code></strong></p>
<pre><code class="language-sql">SELECT *
  FROM eva
WHERE "role" IN ('„Éë„Ç§„É≠„ÉÉ„Éà', '‰ΩúÊà¶ÈÉ®Èï∑');
</code></pre>
<div class="table-wrapper"><table><thead><tr><th style="text-align: center">name</th><th style="text-align: center">kawaii</th><th style="text-align: center">role</th></tr></thead><tbody>
<tr><td style="text-align: center">„É¨„Ç§</td><td style="text-align: center">10</td><td style="text-align: center">„Éë„Ç§„É≠„ÉÉ„Éà</td></tr>
<tr><td style="text-align: center">„Ç¢„Çπ„Ç´</td><td style="text-align: center">3</td><td style="text-align: center">„Éë„Ç§„É≠„ÉÉ„Éà</td></tr>
<tr><td style="text-align: center">„Éü„Çµ„Éà</td><td style="text-align: center">4</td><td style="text-align: center">‰ΩúÊà¶ÈÉ®Èï∑</td></tr>
</tbody></table>
</div>
<pre><code class="language-sql">SELECT *
  FROM eva
WHERE "role" NOT IN ('„Éë„Ç§„É≠„ÉÉ„Éà', '‰ΩúÊà¶ÈÉ®Èï∑');
</code></pre>
<div class="table-wrapper"><table><thead><tr><th style="text-align: center">name</th><th style="text-align: center">kawaii</th><th style="text-align: center">role</th></tr></thead><tbody>
<tr><td style="text-align: center">„ÇÜ„ÅÑ</td><td style="text-align: center">6</td><td style="text-align: center"></td></tr>
</tbody></table>
</div>
<hr />
<p><strong><code>LIKE</code>: For Searching Data</strong></p>
<ul>
<li>This matches anything starting with „Ç¢.</li>
</ul>
<pre><code class="language-sql">SELECT *
  FROM eva
WHERE "name" LIKE '„Ç¢%';
</code></pre>
<ul>
<li>Full pattern matching:</li>
</ul>
<pre><code class="language-sql">SELECT *
  FROM eva
WHERE "name" LIKE '„Ç¢„Çπ_';  -- _ matches a single character
</code></pre>
<div class="table-wrapper"><table><thead><tr><th style="text-align: center">name</th><th style="text-align: center">kawaii</th><th style="text-align: center">role</th></tr></thead><tbody>
<tr><td style="text-align: center">„Ç¢„Çπ„Ç´</td><td style="text-align: center">3</td><td style="text-align: center">„Éë„Ç§„É≠„ÉÉ„Éà</td></tr>
</tbody></table>
</div>
<hr />
<p><strong><code>IS NULL</code>/ <code>IS NOT NULL</code>: Look For Empty Data / Not Empty Data</strong></p>
<pre><code class="language-sql">SELECT *
  FROM eva
 WHERE "role" IS NULL;
</code></pre>
<div class="table-wrapper"><table><thead><tr><th style="text-align: center">name</th><th style="text-align: center">kawaii</th><th style="text-align: center">role</th></tr></thead><tbody>
<tr><td style="text-align: center">„ÇÜ„ÅÑ</td><td style="text-align: center">6</td><td style="text-align: center"></td></tr>
</tbody></table>
</div>
<hr />
<p><strong><code>LIMIT</code>: When You Don't Want To Query The Entire Column</strong></p>
<ul>
<li>SQL result rows start at 1 when displayed, but <code>LIMIT</code> and <code>OFFSET</code> are 0-based. So <code>LIMIT 2 OFFSET 0</code> returns the first 2 rows.</li>
<li>When there is a lot of data in the column, SQL will slow down or freeze. Use LIMIT to avoid that.</li>
</ul>
<pre><code class="language-sql">SELECT *
  FROM eva
LIMIT 2;
</code></pre>
<div class="table-wrapper"><table><thead><tr><th style="text-align: center">name</th><th style="text-align: center">kawaii</th><th style="text-align: center">role</th></tr></thead><tbody>
<tr><td style="text-align: center">„É¨„Ç§</td><td style="text-align: center">10</td><td style="text-align: center">„Éë„Ç§„É≠„ÉÉ„Éà</td></tr>
<tr><td style="text-align: center">„Ç¢„Çπ„Ç´</td><td style="text-align: center">3</td><td style="text-align: center">„Éë„Ç§„É≠„ÉÉ„Éà</td></tr>
</tbody></table>
</div>
<hr />
<p><strong><code>ORDER BY</code>: Sort</strong></p>
<pre><code class="language-sql">SELECT *
  FROM eva
ORDER BY "kawaii";
</code></pre>
<div class="table-wrapper"><table><thead><tr><th style="text-align: center">name</th><th style="text-align: center">kawaii</th><th style="text-align: center">role</th></tr></thead><tbody>
<tr><td style="text-align: center">„Ç¢„Çπ„Ç´</td><td style="text-align: center">3</td><td style="text-align: center">„Éë„Ç§„É≠„ÉÉ„Éà</td></tr>
<tr><td style="text-align: center">„Éü„Çµ„Éà</td><td style="text-align: center">4</td><td style="text-align: center">‰ΩúÊà¶ÈÉ®Èï∑</td></tr>
<tr><td style="text-align: center">„ÇÜ„ÅÑ</td><td style="text-align: center">6</td><td style="text-align: center"></td></tr>
<tr><td style="text-align: center">„É¨„Ç§</td><td style="text-align: center">10</td><td style="text-align: center">„Éë„Ç§„É≠„ÉÉ„Éà</td></tr>
</tbody></table>
</div>
<pre><code class="language-sql">SELECT *
  FROM eva
ORDER BY "kawaii" DESC;
</code></pre>
<div class="table-wrapper"><table><thead><tr><th style="text-align: center">name</th><th style="text-align: center">kawaii</th><th style="text-align: center">role</th></tr></thead><tbody>
<tr><td style="text-align: center">„É¨„Ç§</td><td style="text-align: center">10</td><td style="text-align: center">„Éë„Ç§„É≠„ÉÉ„Éà</td></tr>
<tr><td style="text-align: center">„ÇÜ„ÅÑ</td><td style="text-align: center">6</td><td style="text-align: center"></td></tr>
<tr><td style="text-align: center">„Éü„Çµ„Éà</td><td style="text-align: center">4</td><td style="text-align: center">‰ΩúÊà¶ÈÉ®Èï∑</td></tr>
<tr><td style="text-align: center">„Ç¢„Çπ„Ç´</td><td style="text-align: center">3</td><td style="text-align: center">„Éë„Ç§„É≠„ÉÉ„Éà</td></tr>
</tbody></table>
</div>
<hr />
<ul>
<li>SQL queries can be written in lowercase, but prefer uppercase to differenciate between keywords and column / table names. It will reduce errors.</li>
<li>Insert a new line after each query to improve readability.</li>
<li>Always use <code>LIMIT</code> in prod, instead of asterisks, for faster queries and to reduce server load.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="sql-cheatsheet---part-two-group-by"><a class="header" href="#sql-cheatsheet---part-two-group-by">SQL Cheatsheet - Part Two (<code>GROUP BY</code>)</a></h1>
<ul>
<li><code>GROUP BY</code> is fundamental to perform aggregation functions (ÈõÜË®àÈñ¢Êï∞)</li>
<li>When it throws an error, it's scary</li>
<li>When it works for some unknown reason, it's even scarier</li>
<li><strong>Always wrap your aggregation targets in parentheses.</strong>
<code>AVG("age")</code>, not <code>AVG "age"</code>. PostgreSQL will absolutely lose it otherwise.</li>
</ul>
<p>We will work with this table</p>
<p><code>table name: members</code></p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: center">name</th><th style="text-align: center">created_day</th><th style="text-align: center">channel</th><th style="text-align: center">age</th></tr></thead><tbody>
<tr><td style="text-align: center">„Ç®„É¨„É≥</td><td style="text-align: center">2021-02-13</td><td style="text-align: center">web</td><td style="text-align: center">27</td></tr>
<tr><td style="text-align: center">„Åì„ÅÜ„ÅÑ„Å°</td><td style="text-align: center">2021-02-13</td><td style="text-align: center">ad</td><td style="text-align: center">27</td></tr>
<tr><td style="text-align: center">„Åï„ÇÜ„Çä</td><td style="text-align: center">2021-02-15</td><td style="text-align: center">ad</td><td style="text-align: center">27</td></tr>
<tr><td style="text-align: center">‰∏äË∞∑</td><td style="text-align: center">2021-02-15</td><td style="text-align: center">ad</td><td style="text-align: center">33</td></tr>
<tr><td style="text-align: center">„ÅÇ„Åã„Çä</td><td style="text-align: center">2021-02-16</td><td style="text-align: center">web</td><td style="text-align: center">24</td></tr>
</tbody></table>
</div>
<hr />
<p><strong><code>COUNT</code>: Counts The Number of Records</strong></p>
<pre><code class="language-sql">SELECT COUNT("name")
  FROM members
WHERE "created_day" = '2021-02-13';
</code></pre>
<div class="table-wrapper"><table><thead><tr><th style="text-align: center">count</th></tr></thead><tbody>
<tr><td style="text-align: center">2</td></tr>
</tbody></table>
</div>
<hr />
<p><strong><code>GROUP BY</code>: Groups the same records together</strong></p>
<pre><code class="language-sql">SELECT "created_day", COUNT("name")
  FROM members
GROUP BY "created_day";
</code></pre>
<div class="table-wrapper"><table><thead><tr><th style="text-align: center">created_day</th><th style="text-align: center">count</th></tr></thead><tbody>
<tr><td style="text-align: center">2021-02-13</td><td style="text-align: center">2</td></tr>
<tr><td style="text-align: center">2021-02-15</td><td style="text-align: center">2</td></tr>
<tr><td style="text-align: center">2021-02-16</td><td style="text-align: center">1</td></tr>
</tbody></table>
</div>
<pre><code class="language-sql">SELECT "created_day", "channel", COUNT("name")
  FROM members
GROUP BY "created_day";
</code></pre>
<p>This will throw an error, because the system doesn't know if <code>2021-02-13</code> in <code>created_day</code> corresponds to <code>ad</code>, or <code>web</code> in the column <code>channel</code>.</p>
<pre><code class="language-sql">SELECT "created_day", "channel", COUNT("name")
  FROM members
GROUP BY "created_day", "channel";
</code></pre>
<div class="table-wrapper"><table><thead><tr><th style="text-align: center">created_day</th><th style="text-align: center">channel</th><th style="text-align: center">count</th></tr></thead><tbody>
<tr><td style="text-align: center">2021-02-13</td><td style="text-align: center">web</td><td style="text-align: center">1</td></tr>
<tr><td style="text-align: center">2021-02-13</td><td style="text-align: center">ad</td><td style="text-align: center">1</td></tr>
<tr><td style="text-align: center">2021-02-15</td><td style="text-align: center">ad</td><td style="text-align: center">2</td></tr>
<tr><td style="text-align: center">2021-02-16</td><td style="text-align: center">web</td><td style="text-align: center">1</td></tr>
</tbody></table>
</div>
<hr />
<p><strong>Aggregation functions: (ÈõÜË®àÈñ¢Êï∞)</strong></p>
<p>Aggregates values</p>
<ul>
<li><code>COUNT</code>: number of records</li>
<li><code>AVG</code>: the average value</li>
<li><code>MAX</code>: the maximum</li>
<li><code>MIN</code>: the minimum</li>
<li><code>SUM</code>: the total</li>
</ul>
<pre><code class="language-sql">SELECT "created_day", AVG("age"), MAX("age")
  FROM members
GROUP BY "created_day";
</code></pre>
<div class="table-wrapper"><table><thead><tr><th style="text-align: center">created_day</th><th style="text-align: center">avg</th><th style="text-align: center">max</th></tr></thead><tbody>
<tr><td style="text-align: center">2021-02-13</td><td style="text-align: center">27</td><td style="text-align: center">27</td></tr>
<tr><td style="text-align: center">2021-02-15</td><td style="text-align: center">30</td><td style="text-align: center">33</td></tr>
<tr><td style="text-align: center">2021-02-16</td><td style="text-align: center">24</td><td style="text-align: center">24</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="sql-fundamentals---part-three-join"><a class="header" href="#sql-fundamentals---part-three-join">SQL Fundamentals - Part Three (<code>JOIN</code>)</a></h1>
<ul>
<li>How to retrieve data from several tables?</li>
<li>The solution is to use table joins („ÉÜ„Éº„Éñ„É´ÁµêÂêà)</li>
<li>Scary, but very important: since a lot of the times in prod, data is stored between multiple tables</li>
<li>Know the difference between <code>INNER JOIN</code>/<code>OUTER JOIN</code></li>
</ul>
<hr />
<p>In the future, when civilizations will live between several planets of the Solar System and exchange overwhelming amounts of data between each other, you won't be able to survive without knowing SQL.</p>
<p>We will work with those tables</p>
<p><code>table name: martians</code></p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: center">id</th><th style="text-align: center">name</th></tr></thead><tbody>
<tr><td style="text-align: center">1</td><td style="text-align: center">„Éè„É™„Éº</td></tr>
<tr><td style="text-align: center">2</td><td style="text-align: center">„Éè„Éº„Éû„Ç§„Ç™„Éã„Éº</td></tr>
<tr><td style="text-align: center">3</td><td style="text-align: center">„É≠„É≥</td></tr>
<tr><td style="text-align: center">4</td><td style="text-align: center">„ÉÄ„É≥„Éñ„É´„Éâ„Ç¢</td></tr>
<tr><td style="text-align: center">5</td><td style="text-align: center">„É¥„Ç©„É´„Éá„É¢„Éº„Éà</td></tr>
</tbody></table>
</div>
<p><code>table name: histories</code></p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: center">id</th><th style="text-align: center">martians_id</th><th style="text-align: center">planet</th></tr></thead><tbody>
<tr><td style="text-align: center">1</td><td style="text-align: center">3</td><td style="text-align: center">Âú∞ÁêÉ</td></tr>
<tr><td style="text-align: center">2</td><td style="text-align: center">1</td><td style="text-align: center">Êú®Êòü</td></tr>
<tr><td style="text-align: center">3</td><td style="text-align: center">4</td><td style="text-align: center">ÂúüÊòü</td></tr>
<tr><td style="text-align: center">4</td><td style="text-align: center">5</td><td style="text-align: center">Êµ∑ÁéãÊòü</td></tr>
</tbody></table>
</div>
<hr />
<p><strong><code>INNER JOIN</code>: Assemble two tables into one</strong></p>
<ul>
<li>Use table aliases (<code>AS m</code>, <code>AS h</code>) to keep it classy.</li>
</ul>
<pre><code class="language-sql">SELECT *
  FROM martians
 AS m
INNER JOIN "histories" AS h
ON m.id = h.martians_id;
</code></pre>
<div class="table-wrapper"><table><thead><tr><th style="text-align: center">id</th><th style="text-align: center">name</th><th style="text-align: center">id</th><th style="text-align: center">martians_id</th><th style="text-align: center">planet</th></tr></thead><tbody>
<tr><td style="text-align: center">1</td><td style="text-align: center">„Éè„É™„Éº</td><td style="text-align: center">2</td><td style="text-align: center">1</td><td style="text-align: center">Êú®Êòü</td></tr>
<tr><td style="text-align: center">3</td><td style="text-align: center">„É≠„É≥</td><td style="text-align: center">1</td><td style="text-align: center">3</td><td style="text-align: center">Âú∞ÁêÉ</td></tr>
<tr><td style="text-align: center">4</td><td style="text-align: center">„ÉÄ„É≥„Éñ„É´„Éâ„Ç¢</td><td style="text-align: center">3</td><td style="text-align: center">4</td><td style="text-align: center">ÂúüÊòü</td></tr>
<tr><td style="text-align: center">5</td><td style="text-align: center">„É¥„Ç©„É´„Éá„É¢„Éº„Éà</td><td style="text-align: center">4</td><td style="text-align: center">5</td><td style="text-align: center">Êµ∑ÁéãÊòü</td></tr>
</tbody></table>
</div>
<hr />
<p><strong>Using <code>SELECT</code>, only keep the columns you need</strong></p>
<pre><code class="language-sql">SELECT m.name, h.planet
  FROM martians
 AS m
INNER JOIN "histories" AS h
ON m.id = h.martians_id;
</code></pre>
<div class="table-wrapper"><table><thead><tr><th style="text-align: center">m.name</th><th style="text-align: center">h.planet</th></tr></thead><tbody>
<tr><td style="text-align: center">„Éè„É™„Éº</td><td style="text-align: center">Êú®Êòü</td></tr>
<tr><td style="text-align: center">„É≠„É≥</td><td style="text-align: center">Âú∞ÁêÉ</td></tr>
<tr><td style="text-align: center">„ÉÄ„É≥„Éñ„É´„Éâ„Ç¢</td><td style="text-align: center">ÂúüÊòü</td></tr>
<tr><td style="text-align: center">„É¥„Ç©„É´„Éá„É¢„Éº„Éà</td><td style="text-align: center">Êµ∑ÁéãÊòü</td></tr>
</tbody></table>
</div>
<p>If your actual column names include uppercase, spaces, or non-ASCII characters: wrap them in "quotes" to avoid the wrath of PostgreSQL.</p>
<pre><code class="language-sql">SELECT m."ÂêçÂâç", h."ÊÉëÊòü"
</code></pre>
<hr />
<p><strong><code>LEFT OUTER JOIN</code></strong></p>
<p><strong>Beware</strong>: when performing a <code>JOIN</code> operation, unmatching records will dissapear.</p>
<p>This is what you should do instead:</p>
<pre><code class="language-sql">SELECT m.name, h.planet
  FROM martians
 AS m
LEFT OUTER JOIN "histories" AS h
  ON m.id = h.martians_id;
</code></pre>
<div class="table-wrapper"><table><thead><tr><th style="text-align: center">m.name</th><th style="text-align: center">h.planet</th></tr></thead><tbody>
<tr><td style="text-align: center">„Éè„É™„Éº</td><td style="text-align: center">Êú®Êòü</td></tr>
<tr><td style="text-align: center">„Éè„Éº„Éû„Ç§„Ç™„Éã„Éº</td><td style="text-align: center">NULL</td></tr>
<tr><td style="text-align: center">„É≠„É≥</td><td style="text-align: center">Âú∞ÁêÉ</td></tr>
<tr><td style="text-align: center">„ÉÄ„É≥„Éñ„É´„Éâ„Ç¢</td><td style="text-align: center">ÂúüÊòü</td></tr>
<tr><td style="text-align: center">„É¥„Ç©„É´„Éá„É¢„Éº„Éà</td><td style="text-align: center">Êµ∑ÁéãÊòü</td></tr>
</tbody></table>
</div>
<p>This will add a null value to unmatched values.</p>
<ul>
<li>NULL values will break WHERE conditions unless you explicitly use IS NULL.</li>
<li>If your query drops records like it‚Äôs ghosting you, check your join type. <code>INNER JOIN</code> only loves perfect matches. <code>LEFT OUTER JOIN</code> accepts everyone, even if they‚Äôre broken (NULLs and all).</li>
<li>In a real environment, <code>INNER JOIN</code> is used more often to avoid querying noise and null values.</li>
</ul>
<hr />
<p><code>RIGHT OUTER JOIN</code></p>
<p>Return all rows from the right table, and the matching rows from the left. If there's no match, left table values become NULL.</p>
<pre><code class="language-sql">SELECT m.name, h.planet
  FROM martians
 AS m
RIGHT OUTER JOIN "histories" AS h
  ON m.id = h.martians_id;
</code></pre>
<div class="table-wrapper"><table><thead><tr><th style="text-align: center">m.name</th><th style="text-align: center">h.planet</th></tr></thead><tbody>
<tr><td style="text-align: center">„Éè„É™„Éº</td><td style="text-align: center">Êú®Êòü</td></tr>
<tr><td style="text-align: center">„É≠„É≥</td><td style="text-align: center">Âú∞ÁêÉ</td></tr>
<tr><td style="text-align: center">„ÉÄ„É≥„Éñ„É´„Éâ„Ç¢</td><td style="text-align: center">ÂúüÊòü</td></tr>
<tr><td style="text-align: center">„É¥„Ç©„É´„Éá„É¢„Éº„Éà</td><td style="text-align: center">Êµ∑ÁéãÊòü</td></tr>
</tbody></table>
</div>
<p>In this example, it gives the same result as <code>INNER JOIN</code> because all martians_id values match an existing martian.</p>
<p>To really see the effect of <code>RIGHT OUTER JOIN</code>, you‚Äôd need a record in <code>"histories"</code> with a <code>martians_id</code> that doesn‚Äôt exist in <code>"martians"</code>.</p>
<hr />
<p><code>FULL OUTER JOIN</code></p>
<p>Return all rows from both tables, matching where possible, and filling in <code>NULL</code> where not.</p>
<pre><code class="language-sql">SELECT m.name, h.planet
  FROM martians
 AS m
FULL OUTER JOIN "histories" AS h
  ON m.id = h.martians_id;
</code></pre>
<div class="table-wrapper"><table><thead><tr><th style="text-align: center">m.name</th><th style="text-align: center">h.planet</th></tr></thead><tbody>
<tr><td style="text-align: center">„Éè„É™„Éº</td><td style="text-align: center">Êú®Êòü</td></tr>
<tr><td style="text-align: center">„Éè„Éº„Éû„Ç§„Ç™„Éã„Éº</td><td style="text-align: center">NULL</td></tr>
<tr><td style="text-align: center">„É≠„É≥</td><td style="text-align: center">Âú∞ÁêÉ</td></tr>
<tr><td style="text-align: center">„ÉÄ„É≥„Éñ„É´„Éâ„Ç¢</td><td style="text-align: center">ÂúüÊòü</td></tr>
<tr><td style="text-align: center">„É¥„Ç©„É´„Éá„É¢„Éº„Éà</td><td style="text-align: center">Êµ∑ÁéãÊòü</td></tr>
</tbody></table>
</div>
<p>This behaves exactly like <code>LEFT OUTER JOIN</code> here because histories doesn‚Äôt contain any records without a matching <code>martians_id</code>. Add a rogue one to see <code>NULL</code> in <code>m.name</code>.</p>
<p>üí° JOIN ORACLE SAYS:</p>
<ul>
<li><code>INNER JOIN</code>: only love with conditions.</li>
<li><code>LEFT OUTER JOIN</code>: keeps left table's ghosts.</li>
<li><code>RIGHT OUTER JOIN</code>: brings right table‚Äôs strays.</li>
<li><code>FULL OUTER JOIN</code>: a big weird family reunion where nobody‚Äôs left out.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="sql-fundamentals---part-three-case"><a class="header" href="#sql-fundamentals---part-three-case">SQL Fundamentals - Part Three (<code>CASE</code>)</a></h1>
<ul>
<li>What if you wanted logical operators in SQL, like in every other programming language? (<code>if... else</code>)</li>
<li>Knowing how to use this is what differenciates newbies and pros.</li>
</ul>
<p>We will work with this table</p>
<p><code>table name: populations</code></p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: center">pref_name</th><th style="text-align: center">population</th></tr></thead><tbody>
<tr><td style="text-align: center">‰∫¨ÈÉΩ</td><td style="text-align: center">300</td></tr>
<tr><td style="text-align: center">Â§ßÈò™</td><td style="text-align: center">900</td></tr>
<tr><td style="text-align: center">Á¶èÂ≤°</td><td style="text-align: center">500</td></tr>
<tr><td style="text-align: center">‰ΩêË≥Ä</td><td style="text-align: center">100</td></tr>
</tbody></table>
</div>
<ul>
<li>Do not underestimate SQL, do not resort to using Excel for your tables. SQL has everything you need, and you just have skill issues.</li>
</ul>
<hr />
<p><strong>How to use:</strong></p>
<pre><code class="language-sql">SELECT CASE WHEN condition THEN value
       WHEN condition THEN value
       ELSE value END
  FROM table_name
</code></pre>
<p>For these operations, it's important to think of these operations as having two steps (or more)</p>
<hr />
<p><strong>Use case:</strong></p>
<pre><code class="language-sql">-- Step 1
SELECT
  CASE WHEN "pref_name" IN ('‰∫¨ÈÉΩ', 'Â§ßÈò™') THEN 'Èñ¢Ë•ø'
  WHEN "pref_name" IN ('Á¶èÂ≤°', '‰ΩêË≥Ä') THEN '‰πùÂ∑û'
  ELSE NULL
  END AS "district",
  SUM("population")
FROM populations


-- Step 2
GROUP BY
  CASE WHEN "pref_name" IN ('‰∫¨ÈÉΩ', 'Â§ßÈò™') THEN 'Èñ¢Ë•ø'
  WHEN "pref_name" IN ('Á¶èÂ≤°', '‰ΩêË≥Ä') THEN '‰πùÂ∑û'
  ELSE NULL
  END;
</code></pre>
<p>Step 1:</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: center">district</th><th style="text-align: center">population</th></tr></thead><tbody>
<tr><td style="text-align: center">Èñ¢Ë•ø</td><td style="text-align: center">300</td></tr>
<tr><td style="text-align: center">Èñ¢Ë•ø</td><td style="text-align: center">900</td></tr>
<tr><td style="text-align: center">‰πùÂ∑û</td><td style="text-align: center">500</td></tr>
<tr><td style="text-align: center">‰πùÂ∑û</td><td style="text-align: center">100</td></tr>
</tbody></table>
</div>
<p>Step 2:</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: center">district</th><th style="text-align: center">population</th></tr></thead><tbody>
<tr><td style="text-align: center">Èñ¢Ë•ø</td><td style="text-align: center">1200</td></tr>
<tr><td style="text-align: center">‰πùÂ∑û</td><td style="text-align: center">600</td></tr>
</tbody></table>
</div>
<ul>
<li>With this, you can use SQL like a real programming language</li>
<li>Using <code>GROUP BY</code> and <code>SUM</code> together: very powerful</li>
<li>You are no more a database newbie, you will be intermediate.</li>
</ul>
<hr />
<p><strong>Window Functions</strong></p>
<ul>
<li>Let you perform calculations across rows related to the current row, without collapsing them like GROUP BY.</li>
</ul>
<p><strong>Example: Ranking cities by population without losing the full dataset</strong></p>
<pre><code class="language-sql">SELECT 
  "pref_name",
  "population",
  RANK() OVER (ORDER BY "population" DESC) AS "rank"
FROM populations
;
</code></pre>
<div class="table-wrapper"><table><thead><tr><th style="text-align: center">pref_name</th><th style="text-align: center">population</th><th style="text-align: center">rank</th></tr></thead><tbody>
<tr><td style="text-align: center">Â§ßÈò™</td><td style="text-align: center">900</td><td style="text-align: center">1</td></tr>
<tr><td style="text-align: center">Á¶èÂ≤°</td><td style="text-align: center">500</td><td style="text-align: center">2</td></tr>
<tr><td style="text-align: center">‰∫¨ÈÉΩ</td><td style="text-align: center">300</td><td style="text-align: center">3</td></tr>
<tr><td style="text-align: center">‰ΩêË≥Ä</td><td style="text-align: center">100</td><td style="text-align: center">4</td></tr>
</tbody></table>
</div>
<p>Notice: No GROUP BY, no data loss, just vibes and rankings.</p>
<hr />
<p><strong>CTEs (Common Table Expressions)</strong></p>
<ul>
<li>Think of them like temporary named subqueries‚Äîgreat for breaking down complex queries or recursive stuff.</li>
</ul>
<p><strong>Example: Clean up a <code>CASE</code>mess first using a CTE</strong></p>
<pre><code class="language-sql">WITH regional_pop AS (
  SELECT
    CASE 
      WHEN "pref_name" IN ('‰∫¨ÈÉΩ', 'Â§ßÈò™') THEN 'Èñ¢Ë•ø'
      WHEN "pref_name" IN ('Á¶èÂ≤°', '‰ΩêË≥Ä') THEN '‰πùÂ∑û'
      ELSE '‰∏çÊòé'
    END AS "region",
    "population"
  FROM populations

)
SELECT "region", SUM("population") AS "total_population"
FROM regional_pop
GROUP BY "region";
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="sql-fundamentals---part-five-subqueries"><a class="header" href="#sql-fundamentals---part-five-subqueries">SQL Fundamentals - Part Five (subqueries)</a></h1>
<ul>
<li>A subquery is a query inside of a query.</li>
<li>Ever wanted to perform a <code>SELECT</code> inside of a <code>SELECT</code>? Well, you actually can.</li>
<li>You start becoming a query magician.</li>
</ul>
<p>We will work with this table</p>
<p><code>table name: items</code></p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: center">name</th><th style="text-align: center">category</th><th style="text-align: center">price</th></tr></thead><tbody>
<tr><td style="text-align: center">iPhone 12</td><td style="text-align: center">„Çπ„Éû„Éõ</td><td style="text-align: center">100000</td></tr>
<tr><td style="text-align: center">Pixel 5</td><td style="text-align: center">„Çπ„Éû„Éõ</td><td style="text-align: center">80000</td></tr>
<tr><td style="text-align: center">Xperia 511</td><td style="text-align: center">„Çπ„Éû„Éõ</td><td style="text-align: center">90000</td></tr>
<tr><td style="text-align: center">„É´„É≥„Éê980</td><td style="text-align: center">ÊéÉÈô§Ê©ü</td><td style="text-align: center">50000</td></tr>
<tr><td style="text-align: center">Dyson V10</td><td style="text-align: center">ÊéÉÈô§Ê©ü</td><td style="text-align: center">40000</td></tr>
<tr><td style="text-align: center">„Éê„É´„Éü„É•„Éº„ÉÄC</td><td style="text-align: center">ÊéÉÈô§Ê©ü</td><td style="text-align: center">60000</td></tr>
</tbody></table>
</div>
<hr />
<p><strong>Display items where the price is higher than average</strong></p>
<pre><code class="language-sql">SELECT AVG("price")
  FROM items
;
-- 70000

SELECT *
    FROM items

  WHERE "price" &gt;= 70000;
</code></pre>
<p>This is fine, but it can be done in a single query like this:</p>
<pre><code class="language-sql">SELECT *
    FROM items

  WHERE price &gt;= (SELECT AVG("price")
                    FROM items
);
</code></pre>
<div class="table-wrapper"><table><thead><tr><th style="text-align: center">name</th><th style="text-align: center">category</th><th style="text-align: center">price</th></tr></thead><tbody>
<tr><td style="text-align: center">iPhone 12</td><td style="text-align: center">„Çπ„Éû„Éõ</td><td style="text-align: center">100000</td></tr>
<tr><td style="text-align: center">Pixel 5</td><td style="text-align: center">„Çπ„Éû„Éõ</td><td style="text-align: center">80000</td></tr>
<tr><td style="text-align: center">Xperia 511</td><td style="text-align: center">„Çπ„Éû„Éõ</td><td style="text-align: center">90000</td></tr>
</tbody></table>
</div>
<p>Yeah, we are querying a <code>SELECT</code> inside of a <code>SELECT</code>. That's what a subquery is.</p>
<hr />
<p><strong>Display items where the price is higher than average, but for each category</strong></p>
<pre><code class="language-sql">SELECT *
    FROM items

  WHERE price &gt;= (SELECT AVG("price")
                    FROM items

                    GROUP BY "category");
</code></pre>
<p>This will return an error, because it will return two averages. The solution is to use aliases to discern them.</p>
<pre><code class="language-sql">SELECT *
    FROM items
 AS i1
  WHERE i1."price" &gt;= (
		SELECT AVG(i2."price")
                    FROM items
 AS i2
                    WHERE i1."category" = i2."category"
  );
</code></pre>
<div class="table-wrapper"><table><thead><tr><th style="text-align: center">name</th><th style="text-align: center">category</th><th style="text-align: center">price</th></tr></thead><tbody>
<tr><td style="text-align: center">iPhone 12</td><td style="text-align: center">„Çπ„Éû„Éõ</td><td style="text-align: center">100000</td></tr>
<tr><td style="text-align: center">Xperia 511</td><td style="text-align: center">„Çπ„Éû„Éõ</td><td style="text-align: center">90000</td></tr>
<tr><td style="text-align: center">„É´„É≥„Éê980</td><td style="text-align: center">ÊéÉÈô§Ê©ü</td><td style="text-align: center">50000</td></tr>
<tr><td style="text-align: center">„Éê„É´„Éü„É•„Éº„ÉÄC</td><td style="text-align: center">ÊéÉÈô§Ê©ü</td><td style="text-align: center">60000</td></tr>
</tbody></table>
</div>
<ul>
<li>Subqueries will make your life easier, otherwise you have to write queries one by one.</li>
</ul>
<p>üß† Subquery Tips:</p>
<ul>
<li>Use subqueries when filtering against <strong>aggregated</strong> or <strong>correlated</strong> data.</li>
<li>Correlated subqueries reference the outer query‚Äîuse aliases to stay sane.</li>
<li>Subqueries inside <code>WHERE</code>, <code>SELECT</code>, or even <code>FROM</code> are all valid and powerful.</li>
<li>Avoid unnecessary subqueries in production‚Äîthey can destroy performance.</li>
<li>If you are getting errors, try writing the function without subqueries.</li>
<li>SQL: Practice makes muscle memory.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><div style="break-before: page; page-break-before: always;"></div><h1 id="-debugging-tools-for-c-you-should-100-use"><a class="header" href="#-debugging-tools-for-c-you-should-100-use">üõ°Ô∏è Debugging Tools for C++ You Should 100% Use</a></h1>
<h2 id="-1-addresssanitizer-asan"><a class="header" href="#-1-addresssanitizer-asan">üßº 1. AddressSanitizer (ASan)</a></h2>
<ul>
<li>
<p>You already know the girl. She‚Äôs protective, loud, and dragging every invalid memory access by its wig.</p>
</li>
<li>
<p>Just compile with:</p>
</li>
</ul>
<pre><code class="language-bash">g++ -fsanitize=address -g -O1 your_code.cpp -o output
</code></pre>
<h2 id="-2-valgrind-the-classic-queen"><a class="header" href="#-2-valgrind-the-classic-queen">üî• 2. Valgrind (The Classic Queen)</a></h2>
<ul>
<li>
<p>She‚Äôs slower, but ultra-detailed. Great for memory leaks, use-after-free, uninitialized memory reads.</p>
</li>
<li>
<p>Use like:</p>
</li>
</ul>
<pre><code class="language-bash">valgrind ./output
</code></pre>
<p>Bonus: combine with <code>--leak-check=full</code> to get all the juicy info.</p>
<h2 id="-3-gdb-the-stoic-therapist"><a class="header" href="#-3-gdb-the-stoic-therapist">üß† 3. GDB (The Stoic Therapist)</a></h2>
<ul>
<li>Not flashy, but powerful. If you need to pause execution mid-Dijkstra and stare at your pointers like a disappointed parent:</li>
</ul>
<pre><code class="language-bash">g++ -g your_code.cpp -o output
gdb ./output
</code></pre>
<p>Then in GDB:</p>
<pre><code class="language-bash">run
bt        # Backtrace on crash
info locals
</code></pre>
<ul>
<li>Common Commands:
<ul>
<li>run ‚Äì start execution</li>
<li>break main ‚Äì set breakpoint</li>
<li>next, step ‚Äì step through code</li>
<li>print var, info locals ‚Äì inspect variables</li>
<li>bt ‚Äì backtrace after crash</li>
</ul>
</li>
</ul>
<h2 id="-4-godbolt-optional-but-very-nerdy"><a class="header" href="#-4-godbolt-optional-but-very-nerdy">üåà 4. Godbolt (Optional, but Very Nerdy)</a></h2>
<ul>
<li>Not for runtime bugs, but if you ever want to see how your C++ compiles to assembly, or compare optimizations. It‚Äôs fun for algorithm analysis.</li>
</ul>
<h2 id="-5-clang-tidy"><a class="header" href="#-5-clang-tidy">üöÄ 5. Clang-Tidy</a></h2>
<ul>
<li>
<p>For static analysis. Lints C++ code and catches suspicious patterns before they explode.</p>
</li>
<li>
<p>Run like:</p>
</li>
</ul>
<pre><code class="language-bash">clang-tidy your_code.cpp -- -std=c++17
</code></pre>
<h2 id="bonus-compilation-flags"><a class="header" href="#bonus-compilation-flags">Bonus: Compilation Flags</a></h2>
<ul>
<li>Always use <code>-Wall -Wextra -pedantic</code> for extra compiler warnings.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="c-cheat-sheet-"><a class="header" href="#c-cheat-sheet-">C++ Cheat Sheet üíÄ</a></h1>
<h2 id="1-variables-data-types--initialization"><a class="header" href="#1-variables-data-types--initialization">1. Variables, Data Types &amp; Initialization</a></h2>
<p>C++ has multiple ways to declare variables, and some are better than others:</p>
<pre><code class="language-cpp">int x = 10;  // Traditional C-style initialization
int y(20);   // Constructor-style initialization
int z{30};   // C++11 Uniform Initialization (safer, avoids narrowing conversions)

std::cout &lt;&lt; x &lt;&lt; " " &lt;&lt; y &lt;&lt; " " &lt;&lt; z &lt;&lt; std::endl;
</code></pre>
<p>Prefer {} (uniform initialization) because it avoids weird implicit conversions:</p>
<pre><code class="language-cpp">double d{4.5};
int i{d};  // ‚ùå ERROR: Narrowing conversion not allowed!
</code></pre>
<h2 id="2-pointers-and-references"><a class="header" href="#2-pointers-and-references">2. Pointers and References</a></h2>
<p>C++ inherits pointers from C, but adds references to make life slightly easier:</p>
<p>Pointers (Classic C-style)</p>
<pre><code class="language-cpp">int a = 10;
int* ptr = &amp;a;  // Pointer stores the memory address of 'a'

std::cout &lt;&lt; *ptr &lt;&lt; std::endl;  // Dereference the pointer (output: 10)
</code></pre>
<p>References (C++ Feature)</p>
<pre><code class="language-cpp">int x = 42;
int&amp; ref = x;  // Reference to x (alias)

ref = 50;  // Modifies x as well
std::cout &lt;&lt; x &lt;&lt; std::endl;  // Output: 50
</code></pre>
<p>Use references instead of pointers when:</p>
<ul>
<li>You don‚Äôt need null values.</li>
<li>You don‚Äôt want to manually dereference things.</li>
</ul>
<p>üö® Pointers are still useful for dynamic memory allocation &amp; function arguments that can be null.</p>
<h2 id="3-dynamic-memory-heap-allocation"><a class="header" href="#3-dynamic-memory-heap-allocation">3. Dynamic Memory (Heap Allocation)</a></h2>
<p>C++ lets you manually allocate and deallocate memory with <code>new</code> and <code>delete</code> (but later you should use smart pointers).</p>
<pre><code class="language-cpp">int* heapInt = new int(99);  // Allocate an int on the heap
std::cout &lt;&lt; *heapInt &lt;&lt; std::endl;  // Output: 99

delete heapInt;  // Free memory (or you'll have a memory leak)
</code></pre>
<p>üö® Memory Management Rules</p>
<ul>
<li>Every new must have a corresponding delete.</li>
<li>Every new[] (array allocation) must have a corresponding delete[].</li>
</ul>
<pre><code class="language-cpp">int* arr = new int[10];  // Allocating an array
delete[] arr;  // Use delete[] for arrays!
</code></pre>
<p>In modern C++, prefer std::vector or smart pointers instead of raw new/delete.</p>
<h2 id="4-functions-pass-by-value-reference-and-pointer"><a class="header" href="#4-functions-pass-by-value-reference-and-pointer">4. Functions: Pass by Value, Reference, and Pointer</a></h2>
<h3 id="pass-by-value-makes-a-copy"><a class="header" href="#pass-by-value-makes-a-copy">Pass by Value (Makes a Copy)</a></h3>
<pre><code class="language-cpp">void changeValue(int num) {
    num = 100;  // This only changes the local copy
}

int x = 5;
changeValue(x);
std::cout &lt;&lt; x;  // Still 5 (copy was modified, not the original)
</code></pre>
<h3 id="pass-by-reference-modifies-original"><a class="header" href="#pass-by-reference-modifies-original">Pass by Reference (Modifies Original)</a></h3>
<pre><code class="language-cpp">void changeRef(int&amp; num) {
    num = 100;
}

int x = 5;
changeRef(x);
std::cout &lt;&lt; x;  // Now it's 100
</code></pre>
<h3 id="pass-by-pointer-also-modifies-original"><a class="header" href="#pass-by-pointer-also-modifies-original">Pass by Pointer (Also Modifies Original)</a></h3>
<pre><code class="language-cpp">void changePointer(int* num) {
    *num = 100;  // Dereferencing modifies the actual value
}

int x = 5;
changePointer(&amp;x);
std::cout &lt;&lt; x;  // Output: 100
</code></pre>
<ul>
<li>Use references when modification is required.</li>
<li>Pass by value when you want a copy (not for large objects).</li>
<li>Use pointers when passing optional values (nullable).</li>
</ul>
<h2 id="5-const-read-only-safety"><a class="header" href="#5-const-read-only-safety">5. <code>const</code>: Read-Only Safety</a></h2>
<p><code>const</code> makes sure your variables can‚Äôt be modified accidentally.</p>
<pre><code class="language-cpp">const int a = 10;  // Can‚Äôt change a
a = 20;  // ‚ùå ERROR!
</code></pre>
<p><code>const</code> with Pointers</p>
<pre><code class="language-cpp">const int* ptr = &amp;a;  // Pointer to constant int (data is immutable)
int* const ptr2 = &amp;a;  // Constant pointer (address is immutable)
const int* const ptr3 = &amp;a;  // Both data and address are immutable
</code></pre>
<p>üö® If something doesn‚Äôt need to change, mark it <code>const</code>!
(Especially function parameters, so you don‚Äôt accidentally modify them.)</p>
<h2 id="6-structs-vs-classes"><a class="header" href="#6-structs-vs-classes">6. Structs vs Classes</a></h2>
<p>Structs in C++ are like classes, except their members are public by default.</p>
<pre><code class="language-cpp">struct Point {
    int x, y;
};
</code></pre>
<pre><code class="language-cpp">class Point {
public:
    int x, y;
};
</code></pre>
<ul>
<li>Use struct when you just need a simple data container.</li>
<li>Use class when you need encapsulation, methods, and complex logic.</li>
</ul>
<h2 id="7-enum-and-enum-class"><a class="header" href="#7-enum-and-enum-class">7. <code>enum</code> and <code>enum class</code></a></h2>
<p>C++ has two types of enums, but only one is safe.</p>
<h3 id="traditional-c-style-enum-unsafe"><a class="header" href="#traditional-c-style-enum-unsafe">Traditional C-style Enum (Unsafe)</a></h3>
<pre><code class="language-cpp">enum Color { RED, GREEN, BLUE };
Color c = RED;
</code></pre>
<p>üö® Problem: Color values are just ints, so they can accidentally mix with unrelated values.</p>
<h3 id="c11-enum-class-scoped-and-safer"><a class="header" href="#c11-enum-class-scoped-and-safer">C++11 enum class (Scoped and Safer)</a></h3>
<pre><code class="language-cpp">enum class Color { RED, GREEN, BLUE };
Color c = Color::RED;
</code></pre>
<ul>
<li>Prevents name conflicts.</li>
<li>Doesn‚Äôt implicitly convert to int.</li>
</ul>
<h2 id="8-input--output-stream-handling"><a class="header" href="#8-input--output-stream-handling">8. Input &amp; Output (Stream Handling)</a></h2>
<h4 id="basic-io"><a class="header" href="#basic-io">Basic I/O</a></h4>
<pre><code class="language-cpp">#include &lt;iostream&gt;
using namespace std;

int main() {
    string name;
    cout &lt;&lt; "Enter your name: ";
    cin &gt;&gt; name;
    cout &lt;&lt; "Hello, " &lt;&lt; name &lt;&lt; "!" &lt;&lt; endl;
}
</code></pre>
<p>üö® Issue: cin &gt;&gt; name; only takes one word.</p>
<h4 id="reading-full-lines"><a class="header" href="#reading-full-lines">Reading Full Lines</a></h4>
<pre><code class="language-cpp">string fullName;
getline(cin, fullName);
</code></pre>
<h2 id="9-arrays--vectors"><a class="header" href="#9-arrays--vectors">9. Arrays &amp; Vectors</a></h2>
<h4 id="c-style-array"><a class="header" href="#c-style-array">C-Style Array</a></h4>
<pre><code class="language-cpp">int arr[5] = {1, 2, 3, 4, 5};
</code></pre>
<p>üö® Problems: No size tracking, no bounds checking.</p>
<h4 id="modern-alternative-stdvector"><a class="header" href="#modern-alternative-stdvector">Modern Alternative: std::vector</a></h4>
<pre><code class="language-cpp">#include &lt;vector&gt;
std::vector&lt;int&gt; vec = {1, 2, 3, 4, 5};
vec.push_back(6);
std::cout &lt;&lt; vec[2];  // Safe indexing
</code></pre>
<ul>
<li>Automatically resizes.</li>
<li>Safer than raw arrays.</li>
</ul>
<h2 id="10-the-auto-keyword"><a class="header" href="#10-the-auto-keyword">10. The <code>auto</code> Keyword</a></h2>
<p>C++ lets you infer types automatically with auto:</p>
<pre><code class="language-cpp">auto num = 42;  // Compiler infers int
auto pi = 3.14;  // Compiler infers double
auto word = "hello";  // Compiler infers const char*
</code></pre>
<ul>
<li>Good for readability, especially with long types.</li>
<li>Avoid using auto everywhere, it reduces code clarity.</li>
</ul>
<h2 id="bonus-a-basic-program-to-convert-miles-to-kilometers"><a class="header" href="#bonus-a-basic-program-to-convert-miles-to-kilometers">Bonus: A Basic Program to Convert Miles to Kilometers</a></h2>
<pre><code class="language-cpp">#include &lt;iostream&gt;
#include &lt;limits&gt;
using namespace std;

const double m_to_km = 1.60934;

// Inline function to convert miles to kilometers
inline double convert(double miles) {
    return miles * m_to_km;
}

int main() {
    double miles = -1;

    while (miles != 0) {
        cout &lt;&lt; "Input distance in miles (0 to quit): ";
        cin &gt;&gt; miles;

        // Validate input
        if (cin.fail()) {
            cin.clear(); // Clear the error flag
            cin.ignore(numeric_limits&lt;streamsize&gt;::max(), '\n'); // Ignore bad input
            cout &lt;&lt; "Invalid input. Please enter a number." &lt;&lt; endl;
            continue;
        }

        if (miles == 0) break;

        cout &lt;&lt; miles &lt;&lt; " miles is equal to " &lt;&lt; convert(miles) &lt;&lt; " kilometers." &lt;&lt; endl;
    }

    cout &lt;&lt; "Bye!" &lt;&lt; endl;
    return 0;
}
</code></pre>
<ol>
<li><strong>cin.fail() must be explicitly checked</strong></li>
</ol>
<ul>
<li>If a user enters non-numeric input, cin enters an error state and stops working.</li>
<li>Without cin.clear() and cin.ignore(), the program will enter an infinite loop or crash.</li>
<li>C++ doesn‚Äôt do automatic input validation, so you must babysit it manually.</li>
</ul>
<ol start="2">
<li><strong>What inline really does</strong></li>
</ol>
<ul>
<li>inline suggests to the compiler "hey, just copy-paste this function where it's called instead of doing a full function call."</li>
<li>This is only useful for very small functions (like our convert() function) because function calls have a small overhead.</li>
<li>Modern compilers already optimize this automatically, so using inline manually is usually unnecessary.</li>
</ul>
<h2 id="bonus-a-simple-program-to-calculate-a-sum"><a class="header" href="#bonus-a-simple-program-to-calculate-a-sum">Bonus: A Simple Program to Calculate A Sum</a></h2>
<pre><code class="language-cpp">// C to C++ conversion

#include &lt;iostream&gt;
#include &lt;vector&gt;

const int N = 40;

inline void sum(int *p, int n, const std::vector&lt;int&gt;&amp; d) {
    *p = 0;
    for (int i = 0; i &lt; n; ++i) {
        *p = *p + d[i];
    }
}

int main() {
    int accum = 0;
    std::vector&lt;int&gt; data(N);

    for (int i = 0; i &lt; N; ++i) {
        data[i] = i;
    }
    sum(&amp;accum, N, data);

    std::cout &lt;&lt; "Sum is: " &lt;&lt; accum &lt;&lt; std::endl;
    return 0;
}
</code></pre>
<ol>
<li><strong>Why is const int better than #define?</strong></li>
</ol>
<ul>
<li>It has type safety (#define doesn‚Äôt care what type it is).</li>
<li>It respects C++ scoping rules (macros don‚Äôt respect namespaces).</li>
<li>Debuggers understand const variables, but they don‚Äôt track macros.</li>
</ul>
<ol start="2">
<li><strong>Why use int <em>p instead of return?</em></strong></li>
</ol>
<ul>
<li>This function modifies accum directly in memory via the pointer.</li>
<li>This mimics how C functions typically modify values passed by reference.</li>
<li>However, in modern C++, it‚Äôs cleaner to use int&amp; p instead of int* p.</li>
</ul>
<ol start="3">
<li><strong>Why pass std::vector<int>&amp; d by const reference?</strong></li>
</ol>
<ul>
<li>Prevents unnecessary copying of the entire vector.</li>
<li>const ensures the function can‚Äôt modify d accidentally.</li>
<li>Without const, passing a vector by reference (vector<int>&amp; d) allows modifications.</li>
</ul>
<ol start="4">
<li><strong>Why std::vector<int> instead of a plain array?</strong></li>
</ol>
<ul>
<li>No need for malloc/free like in C.</li>
<li>Dynamic resizing (though we‚Äôre not using it here).</li>
<li>Memory safety: avoids out-of-bounds access if used properly.</li>
</ul>
<ol start="5">
<li><strong>Why do we pass &amp;accum instead of returning a value?</strong></li>
</ol>
<ul>
<li>C++ style would be to return int instead of modifying via pointer.</li>
<li>This is still very C-like, since we‚Äôre explicitly using pointer manipulation.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="c-oop-cheatsheet-"><a class="header" href="#c-oop-cheatsheet-">C++ OOP Cheatsheet üíÄ</a></h1>
<p>C++ is not a fully object-oriented language like Java‚Äîit gives you the choice of using OOP, procedural, or even template-based metaprogramming. However, when you do use OOP, C++ expects you to take responsibility (i.e., manual memory management, virtual destructors, and explicit inheritance rules).</p>
<h2 id="basic-oop-program"><a class="header" href="#basic-oop-program">Basic OOP Program</a></h2>
<pre><code class="language-cpp">#include &lt;iostream&gt;
#include &lt;string&gt;

class Car {
private:
    std::string brand;
    int speed;

public:
    // Constructor
    Car(std::string b, int s) : brand(b), speed(s) {
        std::cout &lt;&lt; brand &lt;&lt; " Car is being created.\n";
    }

    // Virtual destructor
    virtual ~Car() {
        std::cout &lt;&lt; brand &lt;&lt; " Car is being destroyed.\n";
    }

    // Method
    void accelerate() {
        speed += 10;
        std::cout &lt;&lt; brand &lt;&lt; " is going " &lt;&lt; speed &lt;&lt; " km/h.\n";
    }

    // Getter for brand
    std::string getBrand() const {
        return brand;
    }

    // Getter for speed
    int getSpeed() const {
        return speed;
    }

    // Operator overloading
    friend std::ostream&amp; operator&lt;&lt;(std::ostream&amp; os, const Car&amp; c) {
        os &lt;&lt; c.brand &lt;&lt; " at " &lt;&lt; c.speed &lt;&lt; " km/h";
        return os;
    }
};

// Single inheritance
class SportsCar : public Car {
public:
    SportsCar(std::string b, int s) : Car(b, s) {
        std::cout &lt;&lt; b &lt;&lt; " SportsCar is being created.\n";
    }

    void turboBoost() {
        std::cout &lt;&lt; "Boosting the " &lt;&lt; getBrand() &lt;&lt; "!\n";
    }

    // Destructor
    ~SportsCar() {
        std::cout &lt;&lt; getBrand() &lt;&lt; " SportsCar is being destroyed.\n";
    }
};

int main() {
    Car myCar("beetle", 50);
    myCar.accelerate();
    myCar.accelerate();

    SportsCar mySportsCar("Ferrari", 100);
    mySportsCar.accelerate();
    mySportsCar.turboBoost();

    // Using the overloaded &lt;&lt; operator to print Car objects
    std::cout &lt;&lt; myCar &lt;&lt; std::endl;
    std::cout &lt;&lt; mySportsCar &lt;&lt; std::endl;

    return 0;
}
</code></pre>
<h3 id="basic-class-definition-car"><a class="header" href="#basic-class-definition-car">Basic Class Definition: Car</a></h3>
<p>Key Takeaways</p>
<ol>
<li><strong>Encapsulation</strong></li>
</ol>
<ul>
<li>brand and speed are private, meaning they cannot be accessed outside of the class.</li>
<li>Access is provided through getter functions (getBrand(), getSpeed()).</li>
</ul>
<ol start="2">
<li><strong>Constructors &amp; Initialization Lists</strong></li>
</ol>
<ul>
<li>Car(std::string b, int s) : brand(b), speed(s) {} ‚Üí This is a constructor with an initializer list.</li>
<li>Instead of assigning values inside {} manually, we use direct initialization, which is faster and cleaner.</li>
</ul>
<ol start="3">
<li><strong>Virtual Destructor (~Car())</strong></li>
</ol>
<ul>
<li>Why virtual? So that if you delete a SportsCar through a Car*, it calls the correct destructor.</li>
<li>Without virtual, only Car's destructor would run, and SportsCar's destructor wouldn‚Äôt execute.</li>
</ul>
<ol start="4">
<li><strong>Operator Overloading (&lt;&lt;)</strong></li>
</ol>
<ul>
<li>We define friend std::ostream&amp; operator&lt;&lt;(...) to allow std::cout &lt;&lt; myCar.</li>
<li>Friend functions allow non-member functions to access private class members.</li>
</ul>
<h3 id="inheritance-sportscar-extends-car"><a class="header" href="#inheritance-sportscar-extends-car">Inheritance: SportsCar Extends Car</a></h3>
<p>Key Takeaways</p>
<ol>
<li><strong>Single Inheritance (class SportsCar : public Car)</strong></li>
</ol>
<ul>
<li>SportsCar inherits all properties of Car but can add new behavior (turboBoost()).</li>
<li>SportsCar(std::string b, int s) : Car(b, s) calls the base class (Car) constructor.</li>
</ul>
<ol start="2">
<li><strong>Destructor Handling</strong></li>
</ol>
<ul>
<li>Why is the destructor not virtual? Since Car already has a virtual destructor, it ensures that deleting a SportsCar object correctly calls both destructors.</li>
<li>Destruction order: SportsCar's destructor runs first, then Car's.</li>
</ul>
<h3 id="the-main-function"><a class="header" href="#the-main-function">The main() Function</a></h3>
<p>Key Takeaways</p>
<ol>
<li><strong>Automatic Object Lifetime Management</strong></li>
</ol>
<ul>
<li>myCar and mySportsCar are stack-allocated.</li>
<li>No need for delete because destructors run automatically when they go out of scope.</li>
</ul>
<ol start="2">
<li><strong>Calling Methods on Objects</strong></li>
</ol>
<ul>
<li>myCar.accelerate(); increases the speed by 10.</li>
<li>mySportsCar.turboBoost(); is only available in SportsCar.</li>
</ul>
<ol start="3">
<li><strong>Overloaded &lt;&lt; Operator Works as Expected</strong></li>
</ol>
<ul>
<li><code>std::cout &lt;&lt; myCar &lt;&lt; std::endl;</code> ‚Üí Calls the overloaded &lt;&lt; function.</li>
</ul>
<h2 id="oop-with-parameterized-constructors--operator-overloading-in-c"><a class="header" href="#oop-with-parameterized-constructors--operator-overloading-in-c">OOP with Parameterized Constructors &amp; Operator Overloading in C++</a></h2>
<p>This program introduces parameterized constructors and expands on operator overloading, reinforcing core C++ OOP concepts. While it follows the same fundamental principles as the Car example, the use of constructors and the + operator overload adds complexity.</p>
<pre><code class="language-cpp">#include &lt;iostream&gt;
using namespace std;

class Point {
private:
    double x, y;

public:
    // Default constructor
    Point() : x(0.0), y(0.0) {}

    // Parameterized constructor
    Point(double xVal, double yVal) : x(xVal), y(yVal) {}

    // Getter for x
    double getX() const {
        return x;
    }

    // Setter for x
    void setX(double v) {
        x = v;
    }

    // Getter for y
    double getY() const {
        return y;
    }

    // Setter for y
    void setY(double v) {
        y = v;
    }

    // Overload the + operator
    Point operator+ (const Point&amp; p) const {
        return Point(x + p.x, y + p.y);
    }

    // Overload the &lt;&lt; operator for output
    friend ostream&amp; operator &lt;&lt; (ostream&amp; out, const Point&amp; p) {
        out &lt;&lt; "(" &lt;&lt; p.x &lt;&lt; ", " &lt;&lt; p.y &lt;&lt; ")";
        return out;
    }
};

int main() {
    Point a(3.5, 2.5), b(2.5, 4.5), c;
    cout &lt;&lt; "a = " &lt;&lt; a &lt;&lt; " b = " &lt;&lt; b &lt;&lt; endl;
    c = a + b;
    cout &lt;&lt; "sum = " &lt;&lt; c &lt;&lt; endl;
    return 0;
}
</code></pre>
<h3 id="class-definition-point"><a class="header" href="#class-definition-point">Class Definition: Point</a></h3>
<p>Key Takeaways</p>
<pre><code class="language-cpp">Point() : x(0.0), y(0.0) {}
</code></pre>
<ol>
<li><strong>Default Constructor (Point())</strong></li>
</ol>
<ul>
<li>This constructor initializes x and y to 0.0 by default.</li>
<li>Why use an initializer list (: x(0.0), y(0.0)) instead of assignment in {}?
<ul>
<li>Faster: Directly initializes members instead of assigning values later.</li>
<li>Mandatory for const or reference members (not in this example, but useful elsewhere).</li>
</ul>
</li>
</ul>
<ol start="2">
<li><strong>Parameterized Constructor (Point(double xVal, double yVal))</strong></li>
</ol>
<pre><code class="language-cpp">Point(double xVal, double yVal) : x(xVal), y(yVal) {}
</code></pre>
<p>Allows creating a Point object with custom values.</p>
<ol start="3">
<li><strong>Getter &amp; Setter Methods</strong></li>
</ol>
<pre><code class="language-cpp">double getX() const { return x; }
void setX(double v) { x = v; }
</code></pre>
<ul>
<li>const after getX() ‚Üí Ensures getX() does not modify the object.</li>
<li>Setters allow modification, while getters ensure read-only access.</li>
</ul>
<ol start="4">
<li><strong>Operator Overloading</strong></li>
</ol>
<ul>
<li>Overloading the + Operator</li>
</ul>
<pre><code class="language-cpp">Point operator+ (const Point&amp; p) const {
    return Point(x + p.x, y + p.y);
}
</code></pre>
<ul>
<li>Allows adding Point objects like a + b.</li>
<li>Why return a Point object?
<ul>
<li>Instead of modifying <code>this</code>, it creates a new Point.</li>
</ul>
</li>
</ul>
<p>Example:</p>
<pre><code class="language-cpp">c = a + b;
</code></pre>
<p>Equivalent to <code>c = Point(a.getX() + b.getX(), a.getY() + b.getY());</code></p>
<ul>
<li>Overloading the &lt;&lt; Operator (Friend Function)</li>
</ul>
<pre><code class="language-cpp">friend ostream&amp; operator &lt;&lt; (ostream&amp; out, const Point&amp; p) {
    out &lt;&lt; "(" &lt;&lt; p.x &lt;&lt; ", " &lt;&lt; p.y &lt;&lt; ")";
    return out;
}
</code></pre>
<p>Allows printing Point objects using:</p>
<pre><code class="language-cpp">cout &lt;&lt; a;  // Outputs (3.5, 2.5)
</code></pre>
<p>Why is operator&lt;&lt; a friend function?</p>
<ul>
<li>It needs access to private members (x and y).</li>
<li>Cannot be a member function because the first parameter must be ostream&amp;.</li>
</ul>
<h3 id="the-main-function-1"><a class="header" href="#the-main-function-1">The main() Function</a></h3>
<pre><code class="language-cpp">int main() {
    Point a(3.5, 2.5), b(2.5, 4.5), c;
    cout &lt;&lt; "a = " &lt;&lt; a &lt;&lt; " b = " &lt;&lt; b &lt;&lt; endl;
    c = a + b;
    cout &lt;&lt; "sum = " &lt;&lt; c &lt;&lt; endl;
    return 0;
}
</code></pre>
<ol>
<li>What Happens Here?</li>
</ol>
<ul>
<li>Objects are created:</li>
</ul>
<pre><code class="language-cpp">Point a(3.5, 2.5), b(2.5, 4.5), c;
</code></pre>
<ul>
<li>a is initialized with (3.5, 2.5), b with (2.5, 4.5), and c is (0.0, 0.0) by default.</li>
</ul>
<p>Operator overloading is used:</p>
<pre><code class="language-cpp">c = a + b;
</code></pre>
<ul>
<li>
<p>Triggers operator+() and stores the result in c.</p>
</li>
<li>
<p>Objects are printed using operator&lt;&lt;:</p>
</li>
</ul>
<pre><code class="language-cpp">cout &lt;&lt; "sum = " &lt;&lt; c &lt;&lt; endl;
</code></pre>
<ul>
<li>Calls operator&lt;&lt;() to format the output.</li>
</ul>
<p>Output:</p>
<pre><code class="language-cpp">a = (3.5, 2.5) b = (2.5, 4.5)
sum = (6, 7)
</code></pre>
<h2 id="deep-copy-constructor"><a class="header" href="#deep-copy-constructor">Deep Copy Constructor</a></h2>
<p>C++ has a doubly linked list in the std library, but you should know how they are implemented under the hood.</p>
<h3 id="why-do-we-need-a-deep-copy-constructor"><a class="header" href="#why-do-we-need-a-deep-copy-constructor">Why Do We Need a Deep Copy Constructor?</a></h3>
<p>By default, when you copy an object in C++, the compiler performs a shallow copy, meaning:</p>
<ul>
<li>It copies the memory addresses instead of duplicating the data itself.</li>
<li>If the copied object modifies the data, the original object also changes because they share the same memory.</li>
<li>When one object is destroyed, the other might point to an invalid memory location (dangling pointers).</li>
</ul>
<p>To avoid this nightmare, we manually implement a deep copy constructor. This ensures:</p>
<ul>
<li>Each object gets its own separate copy of the data.</li>
<li>Deleting one object doesn‚Äôt affect the others.</li>
<li>No accidental shared memory corruption.</li>
</ul>
<pre><code class="language-cpp">#include &lt;iostream&gt;
using namespace std;

class list_element {
public:
    int d;
    list_element* next;

    list_element(int n = 0, list_element* ptr = nullptr) : d(n), next(ptr) {}
};

class list {
public:
    list() : head(nullptr), cursor(nullptr) {}
    ~list();  // Destructor to free memory
    list(const list&amp; lst);  // Copy constructor

    void prepend(int n);    // Insert at front value n
    int get_element() { return cursor-&gt;d; }
    void advanced() { cursor = cursor-&gt;next; }
    void print();

private:
    list_element* head;
    list_element* cursor;
};

// Destructor implementation
list::~list() {
    while (head != nullptr) {
        list_element* temp = head;
        head = head-&gt;next;
        delete temp;
    }
}

// Deep copy constructor
list::list(const list&amp; lst) {
    if (lst.head == nullptr) {
        head = nullptr;
        cursor = nullptr;
    } else {
        cursor = lst.head;
        list_element* h = new list_element(cursor-&gt;d);
        list_element* previous = h;
        head = h;
        cursor = cursor-&gt;next;

        while (cursor != nullptr) {
            h = new list_element(cursor-&gt;d);
            previous-&gt;next = h;
            previous = h;
            cursor = cursor-&gt;next;
        }

        cursor = head;
    }
}

void list::prepend(int n) {
    if (head == nullptr)  // empty list case
        cursor = head = new list_element(n, head);
    else    // add to front-chain
        head = new list_element(n, head);
}

void list::print() {
    list_element* h = head;
    while (h != nullptr) {
        cout &lt;&lt; h-&gt;d &lt;&lt; ", ";
        h = h-&gt;next;
    }
    cout &lt;&lt; "###" &lt;&lt; endl;
}

int main() {
    list a, b;
    a.prepend(9); a.prepend(8);
    cout &lt;&lt; "list a" &lt;&lt; endl;
    a.print();

    // Use the copy constructor
    list c = a;
    cout &lt;&lt; "list c (copy of a)" &lt;&lt; endl;
    c.print();

    for (int i = 0; i &lt; 40; ++i)
        b.prepend(i * i);
    cout &lt;&lt; "list b" &lt;&lt; endl;
    b.print();

    return 0;
}
</code></pre>
<h3 id="class-definition"><a class="header" href="#class-definition">Class Definition</a></h3>
<pre><code class="language-cpp">#include &lt;iostream&gt;
using namespace std;

class list_element {
public:
    int d;
    list_element* next;

    list_element(int n = 0, list_element* ptr = nullptr) : d(n), next(ptr) {}
};
</code></pre>
<p>Each list_element stores:</p>
<ul>
<li>d (data).</li>
<li>next (pointer to the next element).</li>
</ul>
<h4 id="the-list-class"><a class="header" href="#the-list-class">The <code>list</code> class</a></h4>
<pre><code class="language-cpp">class list {
public:
    list() : head(nullptr), cursor(nullptr) {}
    ~list();  // Destructor to free memory
    list(const list&amp; lst);  // Copy constructor

    void prepend(int n);    // Insert at front value n
    int get_element() { return cursor-&gt;d; }
    void advanced() { cursor = cursor-&gt;next; }
    void print();

private:
    list_element* head;
    list_element* cursor;
};
</code></pre>
<ul>
<li>Encapsulates a linked list.</li>
<li>Implements deep copy via list(const list&amp; lst).</li>
<li>Destructor (~list()) manually frees memory.</li>
</ul>
<h3 id="destructor-preventing-memory-leaks"><a class="header" href="#destructor-preventing-memory-leaks">Destructor: Preventing Memory leaks</a></h3>
<pre><code class="language-cpp">list::~list() {
    while (head != nullptr) {
        list_element* temp = head;
        head = head-&gt;next;
        delete temp;  // Free each element
    }
}
</code></pre>
<ul>
<li>Ensures no memory leaks when an object is destroyed.</li>
<li>Deletes every node one by one.</li>
<li>Without this, dynamically allocated list_elements would never be freed.</li>
</ul>
<h3 id="the-deep-copy-constructor"><a class="header" href="#the-deep-copy-constructor">The Deep Copy Constructor</a></h3>
<pre><code class="language-cpp">list::list(const list&amp; lst) {
    if (lst.head == nullptr) {
        head = nullptr;
        cursor = nullptr;
    } else {
        cursor = lst.head;
        list_element* h = new list_element(cursor-&gt;d);  // Create first element
        list_element* previous = h;
        head = h;
        cursor = cursor-&gt;next;

        while (cursor != nullptr) {
            h = new list_element(cursor-&gt;d);  // Deep copy each node
            previous-&gt;next = h;
            previous = h;
            cursor = cursor-&gt;next;
        }

        cursor = head;
    }
}
</code></pre>
<p>How It Works</p>
<ul>
<li>Creates a new list_element for each node in the original list.</li>
<li>Does NOT reuse pointers from the old list.</li>
<li>Ensures the new object is an independent copy.
What Happens If We Didn‚Äôt Do This?</li>
</ul>
<pre><code class="language-cpp">list c = a;  // Calls copy constructor
</code></pre>
<ul>
<li>Without a deep copy, c would just reuse a's pointers.</li>
<li>Modifying c would modify a, which is unintended behavior.</li>
<li>Deleting c would leave a with dangling pointers, causing undefined behavior.</li>
</ul>
<h3 id="other-methods"><a class="header" href="#other-methods">Other Methods</a></h3>
<ul>
<li><strong>Prepend (Insert at Front)</strong></li>
</ul>
<pre><code class="language-cpp">void list::prepend(int n) {
    if (head == nullptr)  // Empty list case
        cursor = head = new list_element(n, head);
    else    // Add new element at the front
        head = new list_element(n, head);
}
</code></pre>
<ul>
<li>
<p>Creates a new list_element and links it to the front of the list.</p>
</li>
<li>
<p>If the list is empty, initializes cursor.</p>
</li>
<li>
<p><strong>Print the List</strong></p>
</li>
</ul>
<pre><code class="language-cpp">void list::print() {
    list_element* h = head;
    while (h != nullptr) {
        cout &lt;&lt; h-&gt;d &lt;&lt; ", ";
        h = h-&gt;next;
    }
    cout &lt;&lt; "###" &lt;&lt; endl;
}
</code></pre>
<ul>
<li>
<p>Iterates over the list and prints each value.</p>
</li>
<li>
<p>Stops when nullptr is reached.</p>
</li>
<li>
<p><strong>The main() Function</strong></p>
</li>
</ul>
<pre><code class="language-cpp">int main() {
    list a, b;
    a.prepend(9); a.prepend(8);
    cout &lt;&lt; "list a" &lt;&lt; endl;
    a.print();

    // Use the copy constructor
    list c = a;
    cout &lt;&lt; "list c (copy of a)" &lt;&lt; endl;
    c.print();

    for (int i = 0; i &lt; 40; ++i)
        b.prepend(i * i);
    cout &lt;&lt; "list b" &lt;&lt; endl;
    b.print();

    return 0;
}
</code></pre>
<ul>
<li>Creates multiple lists (a, b, c).</li>
<li>Copies a into c using the deep copy constructor.</li>
<li>Adds elements to b and prints everything.</li>
</ul>
<h3 id="expected-output"><a class="header" href="#expected-output">Expected Output</a></h3>
<pre><code class="language-cpp">list a
8, 9, ###
list c (copy of a)
8, 9, ###
list b
1521, 1444, 1369, ..., 0, ###
</code></pre>
<p>Why is list c identical to list a?</p>
<ul>
<li>Because it was deep copied, not shallow copied.</li>
<li>Modifying c will not affect a, proving that they are independent lists.</li>
</ul>
<p>C++ Rule of Three (or Five)</p>
<p>If a class manages dynamic memory, you MUST define these manually:</p>
<ul>
<li>Copy Constructor (list(const list&amp;))</li>
<li>Copy Assignment Operator (operator=)</li>
<li>Destructor (~list())</li>
<li>(Optional) Move Constructor (list(list&amp;&amp;))</li>
<li>(Optional) Move Assignment Operator (operator=(list&amp;&amp;))</li>
</ul>
<p>Without these, you get shallow copies, which can lead to:</p>
<ul>
<li>Memory leaks</li>
<li>Double deletion errors</li>
<li>Undefined behavior</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="introduction-to-templates-in-c-"><a class="header" href="#introduction-to-templates-in-c-">Introduction to Templates in C++ üíÄ</a></h1>
<p>Templates are one of C++‚Äôs most powerful and frightening features. They let you write generic code that can work with multiple data types without duplication. But they also have the potential to turn your code into an unreadable mess of cryptic compiler errors if misused.</p>
<p>In these examples, we‚Äôll look at two ways templates are used:</p>
<ul>
<li>Function Templates ‚Äì Making a single function that works with multiple types.</li>
<li>Class Templates ‚Äì Making a class that can handle multiple data types dynamically.</li>
</ul>
<pre><code class="language-cpp">// Function templates: subtract()

#include &lt;iostream&gt;
#include &lt;vector&gt;

const int N = 40;

template &lt;typename T&gt;
T substract(const T data[], int n, T s = 0) {
    for (int i = 0; i &lt; n; ++i) {
        s = s - data[i];
    }
    return s;
}

int main() {
    std::cout &lt;&lt; "template for substract()" &lt;&lt; std::endl;

    int a[] = {1,2,3};
    double b[] = {2.1, 2.2, 2.3};

    std::cout &lt;&lt; substract(a, 3) &lt;&lt; std::endl;
    std::cout &lt;&lt; substract(b, 3) &lt;&lt; std::endl;
    
    return 0;
}
</code></pre>
<p>Key Takeaways</p>
<ol>
<li><strong>template <typename T> ‚Äì This is the template declaration.</strong></li>
</ol>
<ul>
<li>T is a placeholder for any data type (int, double, float, etc.).</li>
<li>When calling substract(), the compiler automatically replaces T with the correct type.</li>
</ul>
<ol start="2">
<li><strong>Function works for multiple data types</strong></li>
</ol>
<ul>
<li>substract(a, 3) works for int.</li>
<li>substract(b, 3) works for double.</li>
</ul>
<ol start="3">
<li><strong>Why templates instead of function overloading?</strong></li>
</ol>
<ul>
<li>Without templates, you‚Äôd have to write separate functions for int, double, float, etc.</li>
<li>Templates let you write the function once and use it for any compatible type.</li>
</ul>
<ol start="4">
<li><strong>Is this just like inline?</strong></li>
</ol>
<ul>
<li>No, but function templates can be inlined by the compiler if they are small.</li>
<li>The compiler generates a separate function for each unique type used.</li>
<li>This means substract<int> and substract<double> are compiled separately.</li>
</ul>
<h3 id="templates-part-two"><a class="header" href="#templates-part-two">Templates Part Two</a></h3>
<pre><code class="language-cpp">// Class Templates: Summable&lt;T&gt;
#include &lt;iostream&gt;

template &lt;class T&gt;
class Summable {
public:
    T sum(const T data[], int size, T s = 0) {
        for (int i = 0; i &lt; size; ++i) {
            s += data[i];
        }
        return s;
    }
};

int main() {
    Summable&lt;int&gt; intSummable;
    int intData[] = {1, 2, 3, 4, 5};
    int intSum = intSummable.sum(intData, 5);
    std::cout &lt;&lt; "Sum of int array: " &lt;&lt; intSum &lt;&lt; std::endl;

    Summable&lt;double&gt; doubleSummable;
    double doubleData[] = {1.1, 2.2, 3.3, 4.4, 5.5};
    double doubleSum = doubleSummable.sum(doubleData, 5);
    std::cout &lt;&lt; "Sum of double array: " &lt;&lt; doubleSum &lt;&lt; std::endl;

    return 0;
}
</code></pre>
<p>Key Takeaways</p>
<ol>
<li><strong>template <class T> makes Summable<T> a generic class</strong></li>
</ol>
<ul>
<li>This class works with any type that supports the += operator.</li>
<li>We create Summable<int> and Summable<double> instances separately.</li>
</ul>
<ol start="2">
<li><strong>Why use a class template instead of a function template?</strong></li>
</ol>
<ul>
<li>If we only needed a single sum() function, a function template is fine.</li>
<li>But if we wanted to add more operations (like multiplication, average, etc.), then a class template organizes everything better.</li>
</ul>
<ol start="3">
<li><strong>How does the compiler handle this?</strong></li>
</ol>
<ul>
<li>When you write Summable<int>, the compiler generates an int-specific version of the class.</li>
<li>When you write Summable<double>, the compiler generates a separate double version.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="dijkstras-algorithm-with-edge-list-c-edition"><a class="header" href="#dijkstras-algorithm-with-edge-list-c-edition">Dijkstra's Algorithm with Edge List (C++ Edition)</a></h1>
<p>The graph is represented using an <strong>edge list</strong>, not an adjacency matrix, which is simpler to work with when dynamically generating graphs of varying densities.</p>
<hr />
<h2 id="-key-concepts"><a class="header" href="#-key-concepts">üíª Key Concepts</a></h2>
<ul>
<li><strong>Graph Structure</strong>: <code>std::vector&lt;Edge&gt;</code> with an <code>Edge</code> struct holding source, destination, and weight.</li>
<li><strong>Dijkstra‚Äôs Algorithm</strong>: Classic implementation using a <code>distances[]</code> array and a greedy loop with <code>minDistance()</code> helper.</li>
<li><strong>Random Graph Generation</strong>: Custom <code>generateRandomGraph()</code> function adds edges based on a given density (e.g. 20% or 40%).</li>
</ul>
<hr />
<h2 id="the-code"><a class="header" href="#the-code">The Code</a></h2>
<pre><code class="language-cpp">#include &lt;ctime&gt;
#include &lt;iostream&gt;
#include &lt;limits&gt;
#include &lt;random&gt;
#include &lt;set&gt;
#include &lt;vector&gt;

const int INF = std::numeric_limits&lt;int&gt;::max();

struct Edge {
  int source;
  int destination;
  int weight;

  Edge(int s, int d, int w) : source(s), destination(d), weight(w) {}
};

class Graph {
public:
  Graph(int vertices) : vertices(vertices) {}

  void addEdge(int source, int destination, int weight) {
    edges.emplace_back(source, destination, weight);
    edges.emplace_back(destination, source, weight);
  }

  int getVertices() const { return vertices; }
  const std::vector&lt;Edge&gt; &amp;getEdges() const { return edges; }

  std::vector&lt;int&gt; Dijkstra(int source) {
    std::vector&lt;int&gt; distances(vertices, INF);
    std::vector&lt;int&gt; visited(vertices, 0);

    distances[source] = 0;

    for (int i = 0; i &lt; vertices - 1; ++i) {
      int u = minDistance(distances, visited);
      if (u == -1)
        break;

      visited[u] = 1;

      for (const auto &amp;edge : edges) {
        if (!visited[edge.destination] &amp;&amp; edge.source == u) {
          int newDistance = distances[u] + edge.weight;
          if (newDistance &lt; distances[edge.destination]) {
            distances[edge.destination] = newDistance;
          }
        }
      }
    }

    return distances;
  }

private:
  int vertices;
  std::vector&lt;Edge&gt; edges;

  int minDistance(const std::vector&lt;int&gt; &amp;distances,
                  const std::vector&lt;int&gt; &amp;visited) {
    int minDist = INF;
    int minIndex = -1;

    for (int v = 0; v &lt; vertices; ++v) {
      if (!visited[v] &amp;&amp; distances[v] &lt;= minDist) {
        minDist = distances[v];
        minIndex = v;
      }
    }
    return minIndex;
  }
};

void generateRandomGraph(Graph &amp;g, int vertices, double density, int minWeight,
                         int maxWeight) {
  int maxEdges = vertices * (vertices - 1) / 2;
  int targetEdges = static_cast&lt;int&gt;(density * maxEdges);

  std::mt19937 rng(static_cast&lt;unsigned int&gt;(time(nullptr)));
  std::uniform_int_distribution&lt;int&gt; vertexDist(0, vertices - 1);
  std::uniform_int_distribution&lt;int&gt; weightDist(minWeight, maxWeight);

  std::set&lt;std::pair&lt;int, int&gt;&gt; existingEdges;

  while (static_cast&lt;int&gt;(existingEdges.size()) &lt; targetEdges) {
    int u = vertexDist(rng);
    int v = vertexDist(rng);

    if (u != v &amp;&amp; existingEdges.find({u, v}) == existingEdges.end() &amp;&amp;
        existingEdges.find({u, v}) == existingEdges.end()) {
      int weight = weightDist(rng);
      g.addEdge(u, v, weight);
      existingEdges.insert({u, v});
    }
  }
}

int main() {
  int vertices = 50;
  Graph g(vertices);

  double density = 0.2;
  generateRandomGraph(g, vertices, density, 1, 10);

  std::vector&lt;int&gt; distances = g.Dijkstra(0);

  int sum = 0;

  for (int i = 1; i &lt; vertices; ++i) {
    std::cout &lt;&lt; "Distance from 0 to " &lt;&lt; i &lt;&lt; ": " &lt;&lt; distances[i] &lt;&lt; "\n";
    sum += distances[i];
  }

  std::cout &lt;&lt; "Average Path : " &lt;&lt; static_cast&lt;float&gt;(sum) / 49.0 &lt;&lt; "\n";

  return 0;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="why-ruby-because-i-had-enough-of-javascript"><a class="header" href="#why-ruby-because-i-had-enough-of-javascript">Why Ruby? Because I Had Enough of JavaScript.</a></h2>
<p>I originally picked up Ruby out of <strong>pure JavaScript fatigue</strong>‚ÄîI was tired of maintaining a monstrous Express + React project. It was easier to burn everything down and start fresh with a new language than continue suffering.</p>
<p>That turned out to be <strong>one of my best decisions</strong>. By switching to Ruby‚Äôs Sinatra framework, I replaced 5000 lines of bloated code with <strong>a single backend file</strong> and some clean HTML templates. Alongside Python, Ruby will continue to be my go-to for <strong>small web projects</strong>‚Äîwhether that‚Äôs to avoid paying monthly for some overhyped SaaS tool or simply to reclaim time lost to unnecessarily complicated frameworks.</p>
<p>Ruby projects are also <strong>ridiculously easy to deploy</strong>, making it perfect for <strong>my DevOps journey</strong>‚Äîbecause what‚Äôs the point of studying infrastructure if I‚Äôm not constantly deploying things?</p>
<p>Coming from my C studies, Ruby feels like a different world‚Äî<strong>full of abstractions, letting you get away with absurdly concise one-liners.</strong> Debugging is a <strong>breeze</strong>, and for scripting and automation, it offers an interesting alternative to Python.</p>
<p>I had <strong>zero prior experience</strong> when I first picked it up, but that didn‚Äôt stop me from shipping projects with it. In this section of the grimoire, <strong>we‚Äôll be discovering Ruby‚Äôs true power together</strong>‚Äîbecause it turns out, this language has more depth than it first appears.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ruby-cheat-sheet-"><a class="header" href="#ruby-cheat-sheet-">Ruby Cheat Sheet üíé</a></h1>
<h2 id="1-syntax-and-data-types"><a class="header" href="#1-syntax-and-data-types">1. Syntax and Data Types</a></h2>
<p>Ruby is elegant and readable, but its syntax can be weird if you're coming from C, C++, or Python.</p>
<h3 id="variables-and-data-types"><a class="header" href="#variables-and-data-types">Variables and Data Types</a></h3>
<pre><code class="language-ruby">name = "PwatPwat"  # String
age = 1000         # Integer
height = 5.9       # Float
is_sassy = true    # Boolean
languages = ["C", "Ruby", "HTMX"] # Array
skills = { "devops" =&gt; true, "systems" =&gt; true, "webdev" =&gt; "meh" } # Hash (like a dictionary)
</code></pre>
<ul>
<li>Variables don't need types.</li>
<li>nil is Ruby's equivalent of null.</li>
</ul>
<h3 id="string-interpolation-instead-of-concatenation"><a class="header" href="#string-interpolation-instead-of-concatenation">String Interpolation (Instead of Concatenation)</a></h3>
<pre><code class="language-ruby">puts "Hello, my name is #{name} and I am #{age} years old."
</code></pre>
<ul>
<li>#{variable} injects the value directly.</li>
<li>No need for " + ", which is a blessing.</li>
</ul>
<h3 id="symbols-efficient-strings"><a class="header" href="#symbols-efficient-strings">Symbols (Efficient Strings)</a></h3>
<pre><code class="language-ruby">:hello # Think of it as an immutable string
skills = { devops: true, systems: true, webdev: false }
puts skills[:devops] # Access a symbol key like this
</code></pre>
<ul>
<li>Symbols (:something) are immutable and more memory-efficient than strings.</li>
</ul>
<h2 id="2-control-flow"><a class="header" href="#2-control-flow">2. Control Flow</a></h2>
<h3 id="if-else-statements"><a class="header" href="#if-else-statements">If-Else Statements</a></h3>
<pre><code class="language-ruby">if age &gt; 18
  puts "You're old enough."
elsif age == 18
  puts "Just made it!"
else
  puts "Too young."
end
</code></pre>
<ul>
<li>No parentheses needed around conditions.</li>
<li>elsif instead of elseif.</li>
</ul>
<h3 id="ternary-operator"><a class="header" href="#ternary-operator">Ternary Operator</a></h3>
<pre><code class="language-ruby">puts age &gt; 18 ? "Adult" : "Minor"
</code></pre>
<ul>
<li>Short and clean, just like Python‚Äôs ternary operator.</li>
</ul>
<h3 id="unless-because-ruby-is-dramatic"><a class="header" href="#unless-because-ruby-is-dramatic">Unless (Because Ruby is Dramatic)</a></h3>
<pre><code class="language-ruby">unless is_sassy
  puts "You are being too serious today."
else
  puts "Sass mode activated."
end
</code></pre>
<ul>
<li>Equivalent to if !is_sassy, but reads more naturally.</li>
</ul>
<h2 id="3-loops"><a class="header" href="#3-loops">3. Loops</a></h2>
<h3 id="for-loop-but-you-wont-use-it"><a class="header" href="#for-loop-but-you-wont-use-it">For Loop (But You Won‚Äôt Use It)</a></h3>
<pre><code class="language-ruby">for i in 1..5
  puts i
end
</code></pre>
<ul>
<li>1..5 includes 5, while 1...5 excludes 5.</li>
</ul>
<h3 id="while-loop"><a class="header" href="#while-loop">While Loop</a></h3>
<pre><code class="language-ruby">i = 0
while i &lt; 5
  puts "Iteration #{i}"
  i += 1
end
</code></pre>
<h3 id="times-loop-more-idiomatic"><a class="header" href="#times-loop-more-idiomatic">Times Loop (More Idiomatic)</a></h3>
<pre><code class="language-ruby">5.times { |i| puts "Iteration #{i}" }
</code></pre>
<ul>
<li>Instead of a for loop, Ruby prefers .times.</li>
</ul>
<h3 id="each-loop-preferred-over-for"><a class="header" href="#each-loop-preferred-over-for">Each Loop (Preferred Over For)</a></h3>
<pre><code class="language-ruby">languages.each { |lang| puts "I know #{lang}" }
</code></pre>
<ul>
<li>The block { |var| ... } replaces a for-loop.</li>
</ul>
<h3 id="map-functional-approach"><a class="header" href="#map-functional-approach">Map (Functional Approach)</a></h3>
<pre><code class="language-ruby">squared_numbers = [1, 2, 3, 4].map { |num| num ** 2 }
puts squared_numbers.inspect # [1, 4, 9, 16]
</code></pre>
<ul>
<li>Modifies each element in the array.</li>
</ul>
<h2 id="4-functions-and-blocks"><a class="header" href="#4-functions-and-blocks">4. Functions and Blocks</a></h2>
<h3 id="defining-a-function"><a class="header" href="#defining-a-function">Defining a Function</a></h3>
<pre><code class="language-ruby">def greet(name)
  "Hello, #{name}!"
end

puts greet("PwatPwat") # "Hello, PwatPwat!"
</code></pre>
<ul>
<li>No return needed; Ruby returns the last evaluated expression automatically.</li>
</ul>
<h3 id="default-arguments"><a class="header" href="#default-arguments">Default Arguments</a></h3>
<pre><code class="language-ruby">def greet(name="Guest")
  "Hello, #{name}!"
end
</code></pre>
<h3 id="lambda--proc-if-you-like-functional-stuff"><a class="header" href="#lambda--proc-if-you-like-functional-stuff">Lambda &amp; Proc (If You Like Functional Stuff)</a></h3>
<pre><code class="language-ruby">say_hello = -&gt; { puts "Hello!" } # Lambda function
say_hello.call
</code></pre>
<ul>
<li>Similar to anonymous functions in JS.</li>
</ul>
<h2 id="5-file-handling"><a class="header" href="#5-file-handling">5. File Handling</a></h2>
<h3 id="reading-a-file"><a class="header" href="#reading-a-file">Reading a File</a></h3>
<pre><code class="language-ruby">File.open("test.txt", "r") do |file|
  puts file.read
end
</code></pre>
<h3 id="writing-to-a-file"><a class="header" href="#writing-to-a-file">Writing to a File</a></h3>
<pre><code class="language-ruby">Copier le code
File.open("test.txt", "w") do |file|
  file.puts "This is a new line"
end
</code></pre>
<h2 id="6-ruby-scripting-tricks"><a class="header" href="#6-ruby-scripting-tricks">6. Ruby Scripting Tricks</a></h2>
<ul>
<li>If you ever use Ruby for system automation, here are some neat tricks:</li>
</ul>
<h3 id="run-shell-commands"><a class="header" href="#run-shell-commands">Run Shell Commands</a></h3>
<pre><code class="language-ruby">puts `ls -la`  # Runs shell command
</code></pre>
<h3 id="argument-parsing-if-running-a-script"><a class="header" href="#argument-parsing-if-running-a-script">Argument Parsing (if running a script)</a></h3>
<pre><code class="language-ruby">puts "Hello, #{ARGV[0]}!" # Run as `ruby script.rb PwatPwat`
</code></pre>
<h3 id="simple-http-request"><a class="header" href="#simple-http-request">Simple HTTP Request</a></h3>
<pre><code class="language-ruby">require 'net/http'
puts Net::HTTP.get(URI("https://example.com"))
</code></pre>
<h2 id="7-object-oriented-ruby-if-you-like-pain"><a class="header" href="#7-object-oriented-ruby-if-you-like-pain">7. Object-Oriented Ruby (If You Like Pain)</a></h2>
<pre><code class="language-ruby">class Person
  attr_accessor :name, :age

  def initialize(name, age)
    @name = name
    @age = age
  end

  def introduce
    "Hi, I'm #{@name} and I'm #{@age} years old."
  end
end

pwat = Person.new("PwatPwat", 1000)
puts pwat.introduce
</code></pre>
<ul>
<li>@name is an instance variable.</li>
<li>attr_accessor generates getter/setter methods automatically</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ruby-functional-programming-cheat-sheet-"><a class="header" href="#ruby-functional-programming-cheat-sheet-">Ruby Functional Programming Cheat Sheet üíé</a></h1>
<h2 id="1-first-class-functions-because-were-not-peasants"><a class="header" href="#1-first-class-functions-because-were-not-peasants">1. First-Class Functions (Because We‚Äôre Not Peasants)</a></h2>
<p>In Ruby, functions are first-class citizens, which means you can:</p>
<ul>
<li>Assign them to variables‚Ä®</li>
<li>Pass them around like objects‚Ä®</li>
<li>Return them from other functions</li>
</ul>
<h3 id="assigning-functions-to-variables"><a class="header" href="#assigning-functions-to-variables">Assigning Functions to Variables</a></h3>
<pre><code class="language-ruby">def greet(name)
  "Hello, #{name}!"
end

say_hi = method(:greet)  # Grab the method as an object
puts say_hi.call("PwatPwat")  # =&gt; "Hello, PwatPwat!"
</code></pre>
<p>JS developers would be confused because their language still doesn‚Äôt know what it wants to be.</p>
<h2 id="2-lambdas--procs-because-we-hate-boilerplate"><a class="header" href="#2-lambdas--procs-because-we-hate-boilerplate">2. Lambdas &amp; Procs (Because We Hate Boilerplate)</a></h2>
<p>Ruby has two types of anonymous functions: lambdas and procs.</p>
<h3 id="lambdas-strict-like-a-no-nonsense-professor"><a class="header" href="#lambdas-strict-like-a-no-nonsense-professor">Lambdas (Strict, Like a No-Nonsense Professor)</a></h3>
<pre><code class="language-ruby">say_hello = -&gt; (name) { puts "Hello, #{name}!" }
say_hello.call("Ruby")  # =&gt; "Hello, Ruby!"
</code></pre>
<ul>
<li>Uses -&gt; for defining</li>
<li>Checks argument count (strict like C)</li>
</ul>
<h3 id="procs-laid-back-like-a-sleepy-dev"><a class="header" href="#procs-laid-back-like-a-sleepy-dev">Procs (Laid-Back, Like a Sleepy Dev)</a></h3>
<pre><code class="language-ruby">lazy_greet = Proc.new { |name| puts "Sup, #{name}." }
lazy_greet.call("you")  # =&gt; "Sup, you."
</code></pre>
<ul>
<li>Uses Proc.new</li>
<li>Doesn‚Äôt care about missing arguments (very chill, very Ruby)</li>
</ul>
<h2 id="3-higher-order-functions-passing-functions-around-like-secrets"><a class="header" href="#3-higher-order-functions-passing-functions-around-like-secrets">3. Higher-Order Functions (Passing Functions Around Like Secrets)</a></h2>
<h3 id="functions-taking-other-functions"><a class="header" href="#functions-taking-other-functions">Functions Taking Other Functions</a></h3>
<pre><code class="language-ruby">def apply_twice(func, value)
  func.call(func.call(value))
end

double = -&gt;(x) { x * 2 }

puts apply_twice(double, 5)  # =&gt; 20
</code></pre>
<ul>
<li>Passes the double function into apply_twice</li>
<li>JavaScript developers sweating because they only just learned .map()</li>
</ul>
<h2 id="4-functional-methods-on-collections-destroying-loops"><a class="header" href="#4-functional-methods-on-collections-destroying-loops">4. Functional Methods on Collections (Destroying Loops)</a></h2>
<p>Ruby lets you replace loops with functional goodness.</p>
<h3 id="map-instead-of-a-for-loop"><a class="header" href="#map-instead-of-a-for-loop">Map Instead of a For-Loop</a></h3>
<pre><code class="language-ruby">numbers = [1, 2, 3, 4]
doubled = numbers.map { |n| n * 2 }
puts doubled.inspect  # =&gt; [2, 4, 6, 8]
</code></pre>
<h3 id="select-instead-of-filtering-in-loops"><a class="header" href="#select-instead-of-filtering-in-loops">Select Instead of Filtering in Loops</a></h3>
<pre><code class="language-ruby">evens = numbers.select { |n| n.even? }
puts evens.inspect  # =&gt; [2, 4]
</code></pre>
<h3 id="reduce-instead-of-ugly-accumulators"><a class="header" href="#reduce-instead-of-ugly-accumulators">Reduce Instead of Ugly Accumulators</a></h3>
<pre><code class="language-ruby">sum = numbers.reduce(0) { |acc, num| acc + num }
puts sum  # =&gt; 10
</code></pre>
<p>Node.js devs in shambles because .reduce() in JavaScript requires a PhD.</p>
<h2 id="5-currying-because-why-not"><a class="header" href="#5-currying-because-why-not">5. Currying (Because Why Not?)</a></h2>
<p>You can partially apply functions like a Haskell god.
Example: Making a Curried Adder</p>
<pre><code class="language-ruby">adder = -&gt; (x) { -&gt; (y) { x + y } }

add_five = adder.call(5)
puts add_five.call(10)  # =&gt; 15
</code></pre>
<ul>
<li>adder.call(5) returns a new function waiting for y</li>
<li>Node.js devs still writing .bind(this)</li>
</ul>
<h2 id="6-composition-stacking-functions-like-a-boss"><a class="header" href="#6-composition-stacking-functions-like-a-boss">6. Composition (Stacking Functions Like a Boss)</a></h2>
<p>Instead of nesting functions, compose them:</p>
<pre><code class="language-ruby">def compose(f, g)
  -&gt;(x) { f.call(g.call(x)) }
end

double = -&gt;(x) { x * 2 }
increment = -&gt;(x) { x + 1 }

double_then_increment = compose(increment, double)
puts double_then_increment.call(5)  # =&gt; 11

# double(5) ‚Üí 10
# increment(10) ‚Üí 11
</code></pre>
<ul>
<li>Elegant. Chaotic. Beautiful.</li>
</ul>
<h2 id="final-verdict"><a class="header" href="#final-verdict">Final Verdict</a></h2>
<ul>
<li>Ruby can go full functional</li>
<li>Less boilerplate than JavaScript‚Ä®</li>
<li>More readable than Haskell‚Ä®</li>
<li>Shorter than Python‚Ä®</li>
<li>Node.js devs now crying in async hell</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><p>A full Python refresher.</p>
<div style="break-before: page; page-break-before: always;"></div><h3 id="user-input-this-program-asks-the-user-to-guess-a-number-and-gives-feedback"><a class="header" href="#user-input-this-program-asks-the-user-to-guess-a-number-and-gives-feedback">User Input: This program asks the user to guess a number and gives feedback.</a></h3>
<pre><code class="language-python">number = 7
user_input = input("Enter 'y' if you would like to play: ").lower()

if user_input == "y":
    user_number = int(input("Guess our number: "))
    if user_number == number:
        print("you guessed correctly!")
    elif abs(number - user_number) == 1:
        print("You were off by one.")
    else:
        print("sorry, it's wrong!")
</code></pre>
<h3 id="age-calculation-this-program-converts-age-into-months-and-seconds"><a class="header" href="#age-calculation-this-program-converts-age-into-months-and-seconds">Age Calculation: This program converts age into months and seconds.</a></h3>
<pre><code class="language-python">age = int(input("Enter your age:"))
months = age * 12
seconds = age * 365.25 * 24 * 60
print (f"{age} years old equals to {months} months and {seconds} seconds.")
</code></pre>
<h3 id="average-grade-calculation-calculates-average-grades-for-an-individual-student-and-a-class"><a class="header" href="#average-grade-calculation-calculates-average-grades-for-an-individual-student-and-a-class">Average Grade Calculation: Calculates average grades for an individual student and a class.</a></h3>
<ul>
<li>Creates a variable called student, with a dictionary.</li>
<li>The dictionary must contain three keys: 'name', 'school', and 'grades'.</li>
<li>The values for each must be 'Jose', 'Computing', and a tuple with the values 66, 77, and 88.</li>
</ul>
<pre><code class="language-python">student = {
    "name" : "Jose",
    "school" : "Computing",
    "grades" : (66, 77, 88)
}

# Assume the argument, data, is a dictionary.
# Modify the grades variable so it accesses the 'grades' key of the data dictionary.
def average_grade(data):
    grades = data["grades"]
    return sum(grades) / len(grades)

# Given a list of students (a list of dictionaries), calculate the average grade received on an exam, for the entire class
# You must add all the grades of all the students together
# You must also count how many grades there are in total in the entire list
def average_grade_all_students(student_list):
    total = 0
    count = 0
    for student in student_list:
        grades = student["grades"]
        total += sum(grades)
        count += len(grades)
    return total / count
</code></pre>
<h3 id="lists-demonstrates-list-comprehension-for-filtering-and-modifying-lists"><a class="header" href="#lists-demonstrates-list-comprehension-for-filtering-and-modifying-lists">Lists: Demonstrates list comprehension for filtering and modifying lists.</a></h3>
<pre><code class="language-python">numbers = [1, 3, 5]
doubled = [x * 2 for x in numbers]

friends = ["samantha", "sylvie", "adam", "rain", "anna", "sultan"]
starts_s = [friend for friend in friends if friend.startswith('s')]

print(starts_s)
</code></pre>
<h3 id="dictionary-iterates-through-a-dictionary-of-student-attendance-and-prints-results"><a class="header" href="#dictionary-iterates-through-a-dictionary-of-student-attendance-and-prints-results">Dictionary: Iterates through a dictionary of student attendance and prints results.</a></h3>
<pre><code class="language-python">student_attendance = {"Rolf": 96, "Bob": 80, "Anna": 100}

for student, attendance in student_attendance.items():
    print(f"{student}: {attendance}")
</code></pre>
<h3 id="dictionary-2-implements-a-simple-username-password-authentication-system"><a class="header" href="#dictionary-2-implements-a-simple-username-password-authentication-system">Dictionary 2: Implements a simple username-password authentication system.</a></h3>
<pre><code class="language-python">users = [
    (0, "Bob", "password"),
    (1, "Rolf", "bob123"),
    (2, "Jose", "longpassword"),
    (3, "username", "1234")
]

username_mapping = {user[1]: user for user in users}

username_input = input("Enter your username: ")
password_input = input("Enter your password: ")

_, username, password = username_mapping[username_input]

if password_input == password:
    print("Your details are correct!")
else:
    print("Your details are incorrect.")
</code></pre>
<h3 id="destructure-a-variable-shows-variable-unpacking-with-tuples-and-lists"><a class="header" href="#destructure-a-variable-shows-variable-unpacking-with-tuples-and-lists">Destructure A Variable: Shows variable unpacking with tuples and lists.</a></h3>
<ul>
<li>
<p>Unpacking with <code>_</code> to ignore middle value.</p>
</li>
<li>
<p>head gets the first item.</p>
</li>
<li>
<p>*tail captures the rest into a list.</p>
</li>
<li>
<p>head gets the first item.</p>
</li>
<li>
<p>*tail (with a * splat operator) captures the rest into a list.</p>
</li>
</ul>
<pre><code class="language-python">person = ("Bob", 42, "Mechanician")
name, _, profession = person

print(name, profession)

head, *tail = [1,2,3,4,5]
print(head)
print(tail)
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h3 id="for-loop-demonstrates-looping-through-a-list-with-a-for-loop"><a class="header" href="#for-loop-demonstrates-looping-through-a-list-with-a-for-loop">For Loop: Demonstrates looping through a list with a for loop.</a></h3>
<pre><code class="language-python">friends = ["Anna", "Bellatrix", "Ianou", "Alexis"]

for friend in friends:
    print(f"{friend} is my friend.")
</code></pre>
<h3 id="while-loop-repeats-until-the-user-decides-to-stop-playing-the-guessing-game"><a class="header" href="#while-loop-repeats-until-the-user-decides-to-stop-playing-the-guessing-game">While Loop: Repeats until the user decides to stop playing the guessing game.</a></h3>
<pre><code class="language-python">number = 7

while True:
    user_input = input("Would you like to play? (Y/n)")
    if user_input == "n":
        break

    user_number = int(input("Guess our number: "))
    if user_number == number:
        print("you guessed correctly!")
    elif abs(number - user_number) == 1:
        print("You were off by one.")
    else:
        print("sorry, it's wrong!")
</code></pre>
<h3 id="unpacking-demonstrates-unpacking-keyword-arguments-with-kwargs"><a class="header" href="#unpacking-demonstrates-unpacking-keyword-arguments-with-kwargs">Unpacking: Demonstrates unpacking keyword arguments with **kwargs.</a></h3>
<pre><code class="language-python">def named(**kwargs):
    print(kwargs)

def print_nicely(**kwargs):
    named(**kwargs)
    for arg, value in kwargs.items():
        print(f"{arg}: {value}")

print_nicely(name= "bob", age= "25")
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h3 id="functions-with-arguments-simple-function-demonstrating-division-with-error-handling"><a class="header" href="#functions-with-arguments-simple-function-demonstrating-division-with-error-handling">Functions with Arguments: Simple function demonstrating division with error handling.</a></h3>
<pre><code class="language-python">def divide (dividend, divisor):
    if divisor != 0:
        return dividend/divisor
    else:
        return "you fool!"

divide (6, 0)
</code></pre>
<h3 id="functions-with-arguments-2-shows-function-parameter-unpacking-with-args-and-kwargs"><a class="header" href="#functions-with-arguments-2-shows-function-parameter-unpacking-with-args-and-kwargs">Functions with Arguments 2: Shows function parameter unpacking with *args and **kwargs.</a></h3>
<pre><code class="language-python">def add(x, y):
    return x + y

num = [3, 5]
add(*num)

numz = {"x": 15, "y": 26}
print(add(**numz))

def multiply(*argz):
    total = 1
    for arg in argz:
        total = total * arg

    return total

def apply(*argz, operator):
    if operator == "*":
        return multiply(*argz)
    elif operator == "+":
        return sum(argz)
    else:
        return "no valid operator detected."
    
print(apply(1, 3, 5, 7, operator="+"))
</code></pre>
<h3 id="mutable-parameters-demonstrates-how-default-mutable-arguments-can-cause-issues"><a class="header" href="#mutable-parameters-demonstrates-how-default-mutable-arguments-can-cause-issues">Mutable Parameters: Demonstrates how default mutable arguments can cause issues.</a></h3>
<pre><code class="language-python">from typing import List, Optional

class Ztudent:
    def __init__(self, name: str, grades: Optional[List[int]] = None):
        self.name = name
        self.grades = grades or []

    def take_exam(self, result: int):
        self.grades.append(result)

bob = Ztudent("Bob")
rolf = Ztudent("Rolf")
bob.take_exam(90)
print(bob.grades)
print(rolf.grades)
</code></pre>
<h3 id="lambda-demonstrates-lambda-functions-and-map"><a class="header" href="#lambda-demonstrates-lambda-functions-and-map">Lambda: Demonstrates lambda functions and map.</a></h3>
<pre><code class="language-python">add = lambda x , y : x + y
print(add(8,5))

def double(x):
    return x*2

sequence = [1, 3, 5, 9] 
doubled = [double(x) for x in sequence]
doubled2 = list(map(double, sequence))

print (doubled2)
</code></pre>
<h3 id="decorators-demonstrates-a-basic-function-decorator-for-access-control"><a class="header" href="#decorators-demonstrates-a-basic-function-decorator-for-access-control">Decorators: Demonstrates a basic function decorator for access control.</a></h3>
<pre><code class="language-python">user = {"username": "jose", "access_level": "admin"}

def get_admin_password():
    return "1234"

def make_secure(func):
    def secure_function():
        if user["access_level"] == "admin":
            return func()
        else:
            return f"no admin permissons for {user['username']}"
        
    return secure_function

get_admin_password = make_secure(get_admin_password)

print(get_admin_password())
</code></pre>
<h3 id="decorators-with-parameters-enhances-decorators-to-accept-parameters"><a class="header" href="#decorators-with-parameters-enhances-decorators-to-accept-parameters">Decorators With Parameters: Enhances decorators to accept parameters.</a></h3>
<pre><code class="language-python">user = {"username": "jose", "access_level": "admin"}

def make_secure(func):
    def secure_function(*args, **kwargs):
        if user["access_level"] == "admin":
            return func(*args, **kwargs)
        else:
            return f"no admin permissons for {user['username']}"
        
    return secure_function

@make_secure
def get_password(panel):
    if panel == "admin":
        return "1234"
    elif panel == "billing":
        return "super_secure_password"


print(get_password("billing"))
</code></pre>
<h3 id="decorators--uses-the-decorator-syntax-to-apply-a-decorator"><a class="header" href="#decorators--uses-the-decorator-syntax-to-apply-a-decorator">Decorators @: Uses the @decorator syntax to apply a decorator.</a></h3>
<pre><code class="language-python">user = {"username": "jose", "access_level": "admin"}

def make_secure(func):
    def secure_function():
        if user["access_level"] == "admin":
            return func()
        else:
            return f"no admin permissons for {user['username']}"
        
    return secure_function

@make_secure
def get_admin_password():
    return "1234"


print(get_admin_password())
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="python-oop-cheat-sheet-"><a class="header" href="#python-oop-cheat-sheet-">Python OOP Cheat Sheet üêç</a></h1>
<h2 id="1-classes--objects"><a class="header" href="#1-classes--objects">1. Classes &amp; Objects</a></h2>
<p>Python keeps it simple. No header files, no manually managing memory, no need to worry about your constructor causing a nuclear meltdown.</p>
<pre><code class="language-python">class MyClass:
    def __init__(self, name):
        self.name = name  # `self` is Python's way of saying "this"

    def greet(self):
        return f"Hello, {self.name}!"

obj = MyClass("PwatPwat")
print(obj.greet())  # Output: Hello, PwatPwat!
</code></pre>
<h2 id="2-encapsulation-aka-hiding-your-shame"><a class="header" href="#2-encapsulation-aka-hiding-your-shame">2. Encapsulation (a.k.a Hiding Your Shame)</a></h2>
<p>Use underscores to suggest "please don‚Äôt touch this" (but Python won't stop you because it believes in free will).</p>
<pre><code class="language-python">class Secret:
    def __init__(self):
        self._semi_private = "This is a suggestion."
        self.__truly_private = "This is a threat."

    def reveal(self):
        return self.__truly_private

obj = Secret()
print(obj._semi_private)  # Can still access
print(obj.reveal())       # Use methods to access private attributes
</code></pre>
<p>Note: __truly_private gets name-mangled into _Secret__truly_private, but if you access it directly, Python will just sigh at you.</p>
<h2 id="3-inheritance-because-writing-code-twice-is-for-losers"><a class="header" href="#3-inheritance-because-writing-code-twice-is-for-losers">3. Inheritance (Because Writing Code Twice is for Losers)</a></h2>
<p>Python lets you inherit from multiple parents, unlike some other languages that make you jump through hoops.</p>
<pre><code class="language-python">class Parent:
    def speak(self):
        return "I am the parent."

class Child(Parent):
    def cry(self):
        return "Waaa!"

kid = Child()
print(kid.speak())  # Output: I am the parent.
print(kid.cry())    # Output: Waaa!
</code></pre>
<h3 id="multiple-inheritance"><a class="header" href="#multiple-inheritance">Multiple Inheritance:</a></h3>
<pre><code class="language-python">class Mom:
    def trait(self):
        return "Inherited from Mom."

class Dad:
    def trait(self):
        return "Inherited from Dad."

class Kid(Mom, Dad):  # Mom's trait will be used first
    pass

baby = Kid()
print(baby.trait())  # Output: Inherited from Mom.
</code></pre>
<p>Python follows the MRO (Method Resolution Order), which basically means it checks from left to right.</p>
<h2 id="4-composition-aka-instead-of-inheriting-just-contain-it"><a class="header" href="#4-composition-aka-instead-of-inheriting-just-contain-it">4. Composition (a.k.a "Instead of Inheriting, Just Contain It")</a></h2>
<p>Instead of making everything an inheritance mess, composition lets you have objects inside other objects.</p>
<pre><code class="language-python">class Bookshelf:
    def __init__(self, *books):
        self.books = books

    def __str__(self):
        return f"Bookshelf with {len(self.books)} Books."
    
class Book:
    def __init__(self, name):
        self.name = name

    def __str__(self):
        return f"Book {self.name}"
    
book = Book("The land is inhospitable")
book2 = Book("Charli")
shelf = Bookshelf(book, book2)

print(shelf)
</code></pre>
<h4 id="when-to-use-composition"><a class="header" href="#when-to-use-composition">When to Use Composition?</a></h4>
<ul>
<li>When you need "has-a" relationships (e.g., A Bookshelf has Books).</li>
<li>When inheritance doesn‚Äôt make sense (e.g., A Bookshelf is not a Book).</li>
<li>When you need modularity and reusability without making a family tree out of your classes.</li>
</ul>
<h2 id="5-class-methods-classmethod"><a class="header" href="#5-class-methods-classmethod">5. Class Methods (<code>@classmethod</code>)</a></h2>
<p>A class method receives the class itself (cls) as the first argument instead of an instance. This lets you create alternative constructors.</p>
<pre><code class="language-python">class Book:
    TYPEZ = ("hardcover", "paperback")

    def __init__(self, name, book_type, weight):
        self.name = name
        self.book_type = book_type
        self.weight = weight

    def __repr__(self):
        return f"&lt;Book {self.name}, {self.book_type}, weiging {self.weight}g&gt;"
    
    @classmethod
    def hardcover(cls, name, page_weight):
        return cls(name, cls.TYPEZ[0], page_weight + 100)
    
    @classmethod
    def paperback(cls, name, page_weight):
        return cls(name, cls.TYPEZ[1], page_weight)
     

book = Book.hardcover("Laurel Hell", 1600)
light = Book.paperback("the bottle", 400)

print(book, light)
</code></pre>
<h4 id="use-classmethod-when"><a class="header" href="#use-classmethod-when">Use <code>@classmethod</code> when:</a></h4>
<ul>
<li>You need alternative constructors (hardcover() and paperback() in this case).</li>
<li>You want to modify class-level attributes rather than instance attributes.</li>
</ul>
<h3 id="class-statis-method-2-demonstrates-class-methods-and-static-methods-in-store-management"><a class="header" href="#class-statis-method-2-demonstrates-class-methods-and-static-methods-in-store-management">Class Statis Method 2: Demonstrates class methods and static methods in store management.</a></h3>
<pre><code class="language-python">class Store:
    def __init__(self, name):
        self.name = name
        self.items = []

    def add_item(self, name, price):
        self.items.append({
            'name': name,
            'price': price
        })

    def stock_price(self):
        total = 0
        for item in self.items:
            total += item['price']
        return total

    @classmethod
    def franchise(cls, store):
        return cls(store.name + " - franchise") 
        # Return another store, with the same name as the argument's name, plus " - franchise"

    @staticmethod
    def store_details(store):
        return f"{store.name}, total stock price: {int(store.stock_price())}"
        # Return a string representing the argument
        # It should be in the format 'NAME, total stock price: TOTAL'


########################################################################################

store = Store("Test")
store2 = Store("Amazon")
store2.add_item("Keyboard", 160)
     
Store.franchise(store)  # returns a Store with name "Test - franchise"
Store.franchise(store2)  # returns a Store with name "Amazon - franchise"
     
Store.store_details(store)  # returns "Test, total stock price: 0"
Store.store_details(store2)  # returns "Amazon, total stock price: 160"
</code></pre>
<h2 id="6-using-super-because-you-actually-want-your-parent-class-to-do-something"><a class="header" href="#6-using-super-because-you-actually-want-your-parent-class-to-do-something">6. Using super() (Because You Actually Want Your Parent Class to Do Something)</a></h2>
<p><code>super()</code> lets you call methods from a parent class without hardcoding the class name. This is useful when dealing with multiple levels of inheritance.</p>
<pre><code class="language-python">class Animal:
    def __init__(self, name):
        self.name = name

    def speak(self):
        return "Some generic animal sound."

class Dog(Animal):
    def __init__(self, name, breed):
        super().__init__(name)  # Calls the __init__ from Animal
        self.breed = breed

    def speak(self):
        return "Woof!"  # Overrides the parent class method

dog = Dog("Rex", "Golden Retriever")
print(dog.name)  # Output: Rex
print(dog.speak())  # Output: Woof!
</code></pre>
<h2 id="7-the-__repr__-method-for-when-you-actually-care-about-debugging"><a class="header" href="#7-the-__repr__-method-for-when-you-actually-care-about-debugging">7. The <code>__repr__</code> Method (For When You Actually Care About Debugging)</a></h2>
<p><code>__repr__</code> is like <code>__str__</code>, but it's for developers, not users. It‚Äôs meant to return a string that recreates the object.</p>
<pre><code class="language-python">class Person :
    def __init__(self, name, age):
        self.name = name
        self.age = age

    # def __str__(self):
    #     return f"Person {self.name}; {self.age} years old."
    
    def __repr__(self):
        return f"&lt;Person({self.name}, {self.age})&gt;"
    

katheryn = Person("Katheryn", 44)
print(katheryn)
</code></pre>
<h4 id="use-__repr__-when"><a class="header" href="#use-__repr__-when">Use <code>__repr__</code> when:</a></h4>
<ul>
<li>You want a debugging-friendly representation of an object.</li>
<li>You want repr(obj) to return something meaningful (instead of &lt;Person object at 0x1234&gt;).</li>
<li>You‚Äôre passing objects around and need better logging.</li>
</ul>
<h2 id="8-metaclasses--decorators"><a class="header" href="#8-metaclasses--decorators">8. Metaclasses &amp; Decorators</a></h2>
<p>Python allows modifying classes at runtime and using decorators to dynamically alter functions.</p>
<pre><code class="language-python">def add_greeting(cls):
    cls.greet = lambda self: f"Hello from {self.__class__.__name__}!"
    return cls

@add_greeting
class Person:
    pass

p = Person()
print(p.greet())  # Output: Hello from Person!
</code></pre>
<ul>
<li>This injects a method into a class at runtime.</li>
<li>Python also has metaclasses, which let you dynamically change how classes behave (but it's rarely needed).</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h3 id="import-code-demonstrates-module-imports-and-function-usage"><a class="header" href="#import-code-demonstrates-module-imports-and-function-usage">Import Code: Demonstrates module imports and function usage.</a></h3>
<pre><code class="language-python">from imports_mymodule import divide #or import imports_mymodule

print(divide(10,2))
</code></pre>
<h3 id="import-module-shows-how-modules-define-reusable-functions"><a class="header" href="#import-module-shows-how-modules-define-reusable-functions">Import Module: Shows how modules define reusable functions.</a></h3>
<pre><code class="language-python">def divide(divident, divisor):
    return divident/divisor

print("imports_mymodule.py: ", __name__)
</code></pre>
<h3 id="type-hinting-uses-type-hints-for-better-function-and-class-documentation"><a class="header" href="#type-hinting-uses-type-hints-for-better-function-and-class-documentation">Type Hinting: Uses type hints for better function and class documentation.</a></h3>
<pre><code class="language-python">class Book:
    TYPEZ = ("hardcover", "paperback")

    def __init__(self, name: str, book_type: str, weight: int):
        self.name = name
        self.book_type = book_type
        self.weight = weight

    def __repr__(self) -&gt; str:
        return f"&lt;Book {self.name}, {self.book_type}, weiging {self.weight}g&gt;"
    
    @classmethod
    def hardcover(cls, name: str, page_weight: int) -&gt; "Book":
        return cls(name, cls.TYPEZ[0], page_weight + 100)
    
    @classmethod
    def paperback(cls, name: str, page_weight: int) -&gt; "Book":
        return cls(name, cls.TYPEZ[1], page_weight)
     

book = Book.hardcover("Laurel Hell", 1600)
light = Book.paperback("the bottle", 400)

print(book, light)
</code></pre>
<h3 id="first-class-function-demonstrates-passing-functions-as-arguments-to-other-functions"><a class="header" href="#first-class-function-demonstrates-passing-functions-as-arguments-to-other-functions">First Class Function: Demonstrates passing functions as arguments to other functions.</a></h3>
<pre><code class="language-python">def divide(dividend, diviser):
    if diviser == 0:
        raise ZeroDivisionError("DIvisor cannot be 0.")
    
    return dividend/diviser

def calculate(*values, operator):
    return operator(*values)

result = calculate(20, 4, operator=divide)
print(result)
</code></pre>
<h3 id="first-class-function-2-uses-function-arguments-to-search-in-a-list-of-dictionaries"><a class="header" href="#first-class-function-2-uses-function-arguments-to-search-in-a-list-of-dictionaries">First Class Function 2: Uses function arguments to search in a list of dictionaries.</a></h3>
<pre><code class="language-python">def search(sequence, expected, finder):
    for elem in sequence:
        if finder(elem) == expected:
            return elem
    raise RuntimeError(f"Could not find an element with {expected}.")

friends = [
    {"name": "Rolf Lilia", "age": 28},
    {"name": "Odin the Great", "age": 877},
    {"name": "Nyarlathotep", "age": 8888811},
]

def get_friend_name(friend):
    return friend["name"]

print(search(friends, "Nyarlathotep", get_friend_name))
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h3 id="errors-demonstrates-exception-handling-with-try-except-finally"><a class="header" href="#errors-demonstrates-exception-handling-with-try-except-finally">Errors: Demonstrates exception handling with try-except-finally.</a></h3>
<pre><code class="language-python">def divide(dividend, divisor):
    if divisor == 0:
        raise ZeroDivisionError("Divisor cannot be 0.")
    
    return dividend / divisor

grades = []

print("Welcome to the average grade program.")
try:
    average = divide(sum(grades), len(grades))
except ZeroDivisionError:
    print("There are no grades yet in your lizt.")
else:
    print(f"THe average grade is {average}.")
finally:
    print("Thank you!")
</code></pre>
<h3 id="custom-errors-creates-a-custom-exception-class-for-book-page-validation"><a class="header" href="#custom-errors-creates-a-custom-exception-class-for-book-page-validation">Custom Errors: Creates a custom exception class for book page validation.</a></h3>
<pre><code class="language-python">class TooManyPagesError(ValueError):
    pass

class Book:
    def __init__(self, name: str, page_count: int):
        self.name = name
        self.page_count = page_count
        self.pages_read = 0

    def __repr__(self):
        return (
            f"&lt;Book {self.name}, read {self.pages_read} out of {self.page_count}&gt;"
        )
    
    def read(self, pages: int):
        if self.pages_read + pages &gt; self.page_count:
            raise TooManyPagesError(
                f"You tried to read {self.pages_read + pages} pages, but this book only has {self.page_count} pages."
            )
        self.pages_read += pages
        print(f"you have now read {self.pages_read} pages out of {self.page_count}.")

try:
    pout = Book("pout guide", 70)
    pout.read(80)
except TooManyPagesError as e:
    print(e)
</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->

        <script>
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>

    </div>
    </body>
</html>
